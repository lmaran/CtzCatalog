(function(){var t=function(){try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(n)return!0}catch(t){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined)return!0}return!1},n=function(n,t){window.XMLHttpRequest.prototype[n]=t(window.XMLHttpRequest.prototype[n])},i;if(window.XMLHttpRequest&&(!window.FormData||window.FileAPI&&FileAPI.forceLoad?(i=function(n){if(!n.__listeners){n.upload||(n.upload={});n.__listeners=[];var t=n.upload.addEventListener;n.upload.addEventListener=function(i,r){n.__listeners[i]=r;t&&t.apply(this,arguments)}}},n("open",function(n){return function(t,r,u){i(this);this.__url=r;try{n.apply(this,[t,r,u])}catch(f){f.message.indexOf("Access is denied")>-1&&n.apply(this,[t,"_fix_for_ie_crossdomain__",u])}}}),n("getResponseHeader",function(n){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):n==null?null:n.apply(this,[t])}}),n("getAllResponseHeaders",function(n){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():n==null?null:n.apply(this)}}),n("abort",function(n){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():n==null?null:n.apply(this)}}),n("setRequestHeader",function(n){return function(t,r){if(t==="__setXHR_"){i(this);var u=r(this);u instanceof Function&&u(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,n.apply(this,arguments)}}),n("send",function(n){return function(){var i=this,e,u,f,r;if(arguments[0]&&arguments[0].__isShim){for(e=arguments[0],u={url:i.__url,jsonp:!1,cache:!0,complete:function(n,t){i.__completed=!0;!n&&i.__listeners.load&&i.__listeners.load({type:"load",loaded:i.__loaded,total:i.__total,target:i,lengthComputable:!0});!n&&i.__listeners.loadend&&i.__listeners.loadend({type:"loadend",loaded:i.__loaded,total:i.__total,target:i,lengthComputable:!0});n==="abort"&&i.__listeners.abort&&i.__listeners.abort({type:"abort",loaded:i.__loaded,total:i.__total,target:i,lengthComputable:!0});t.status!==undefined&&Object.defineProperty(i,"status",{get:function(){return t.status==0&&n&&n!=="abort"?500:t.status}});t.statusText!==undefined&&Object.defineProperty(i,"statusText",{get:function(){return t.statusText}});Object.defineProperty(i,"readyState",{get:function(){return 4}});t.response!==undefined&&Object.defineProperty(i,"response",{get:function(){return t.response}});var r=t.responseText||(n&&t.status==0&&n!=="abort"?n:undefined);Object.defineProperty(i,"responseText",{get:function(){return r}});Object.defineProperty(i,"response",{get:function(){return r}});n&&Object.defineProperty(i,"err",{get:function(){return n}});i.__fileApiXHR=t;i.onreadystatechange&&i.onreadystatechange()},fileprogress:function(n){if(n.target=i,i.__listeners.progress&&i.__listeners.progress(n),i.__total=n.total,i.__loaded=n.loaded,n.total===n.loaded){var t=this;setTimeout(function(){i.__completed||(i.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},1e4)}},headers:i.__requestHeaders},u.data={},u.files={},f=0;f<e.data.length;f++)r=e.data[f],r.val!=null&&r.val.name!=null&&r.val.size!=null&&r.val.type!=null?u.files[r.key]=r.val:u.data[r.key]=r.val;setTimeout(function(){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';i.__fileApiXHR=FileAPI.upload(u)},1)}else n.apply(i,arguments)}})):n("setRequestHeader",function(n){return function(t,i){if(t==="__setXHR_"){var r=i(this);r instanceof Function&&r(this)}else n.apply(this,arguments)}}),window.XMLHttpRequest.__isShim=!0),!window.FormData||window.FileAPI&&FileAPI.forceLoad){var u=function(n){var i,r,u;if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';i=angular.element(n);i.attr("disabled")||i.hasClass("js-fileapi-wrapper")||n.getAttribute("ng-file-select")==null&&n.getAttribute("data-ng-file-select")==null||(FileAPI.wrapInsideDiv?(r=document.createElement("div"),r.innerHTML='<div class="js-fileapi-wrapper" style="position:relative; overflow:hidden"><\/div>',r=r.firstChild,u=n.parentNode,u.insertBefore(r,n),u.removeChild(n),r.appendChild(n)):(i.addClass("js-fileapi-wrapper"),i.parent()[0].__file_click_fn_delegate_&&((i.parent().css("position")===""||i.parent().css("position")==="static")&&i.parent().css("position","relative"),i.css("top",0).css("bottom",0).css("left",0).css("right",0).css("width","100%").css("height","100%").css("padding",0).css("margin",0),i.parent().unbind("click",i.parent()[0].__file_click_fn_delegate_))))},r=function(n){return function(t){for(var i=FileAPI.getFiles(t),r=0;r<i.length;r++)i[r].size===undefined&&(i[r].size=0),i[r].name===undefined&&(i[r].name="file"),i[r].type===undefined&&(i[r].type="undefined");t.target||(t.target={});t.target.files=i;t.target.files!=i&&(t.__files_=i);(t.__files_||t.target.files).item=function(n){return(t.__files_||t.target.files)[n]||null};n&&n.apply(this,[t])}},f=function(n,t){return(t.toLowerCase()==="change"||t.toLowerCase()==="onchange")&&n.getAttribute("type")=="file"};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(n){return function(t,i,e,o){f(this,t)?(u(this),n.apply(this,[t,r(i),e,o])):n.apply(this,[t,i,e,o])}}(HTMLInputElement.prototype.addEventListener));HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(n){return function(t,i){f(this,t)?(u(this),window.jQuery?angular.element(this).bind("change",r(null)):n.apply(this,[t,r(i)])):n.apply(this,[t,i])}}(HTMLInputElement.prototype.attachEvent));window.FormData=FormData=function(){return{append:function(n,t,i){this.data.push({key:n,val:t,name:i})},data:[],__isShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var f,i,e=document.createElement("script"),o=document.getElementsByTagName("script"),r,n,u;if(window.FileAPI.jsUrl)f=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(r=0;r<o.length;r++)if(u=o[r].src,n=u.indexOf("angular-file-upload-shim.js"),n==-1&&(n=u.indexOf("angular-file-upload-shim.min.js")),n>-1){i=u.substring(0,n);break}FileAPI.staticPath==null&&(FileAPI.staticPath=i);e.setAttribute("src",f||i+"FileAPI.min.js");document.getElementsByTagName("head")[0].appendChild(e);FileAPI.hasFlash=t()}}();FileAPI.disableFileInput=function(n,t){t?n.removeClass("js-fileapi-wrapper"):n.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var n=this,r=!1,t,i;this.listeners={};this.addEventListener=function(t,i){n.listeners[t]=n.listeners[t]||[];n.listeners[t].push(i)};this.removeEventListener=function(t,i){n.listeners[t]&&n.listeners[t].splice(n.listeners[t].indexOf(i),1)};this.dispatchEvent=function(t){var r=n.listeners[t.type],i;if(r)for(i=0;i<r.length;i++)r[i].call(n,t)};this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;t=function(t,i){var r={type:t,target:n,loaded:i.loaded,total:i.total,error:i.error};return i.result!=null&&(r.target.result=i.result),r};i=function(i){var u;r||(r=!0,n.onloadstart&&this.onloadstart(t("loadstart",i)));i.type==="load"?(n.onloadend&&n.onloadend(t("loadend",i)),u=t("load",i),n.onload&&n.onload(u),n.dispatchEvent(u)):i.type==="progress"?(u=t("progress",i),n.onprogress&&n.onprogress(u),n.dispatchEvent(u)):(u=t("error",i),n.onerror&&n.onerror(u),n.dispatchEvent(u))};this.readAsArrayBuffer=function(n){FileAPI.readAsBinaryString(n,i)};this.readAsBinaryString=function(n){FileAPI.readAsBinaryString(n,i)};this.readAsDataURL=function(n){FileAPI.readAsDataURL(n,i)};this.readAsText=function(n){FileAPI.readAsText(n,i)}})})();
//# sourceMappingURL=angular-file-upload-shim.min.js.map
