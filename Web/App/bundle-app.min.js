(function(n,t,i){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var n="$$ngAnimateChildren";return function(i,r,u){var f=u.ngAnimateChildren;t.isString(f)&&f.length===0?r.data(n,!0):i.$watch(f,function(t){r.data(n,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(n,t){var i=t[0].body;return function(t){return n(function(){var n=i.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(r,u){function c(n){for(var i,t=0;t<n.length;t++)if(i=n[t],i.nodeType==k)return i}function y(n){return n&&t.element(n)}function l(n){return t.element(c(n))}function p(n,t){return c(n)==c(t)}var s=t.noop,f=t.forEach,w=u.$$selectors,a=t.isArray,b=t.isString,d=t.isObject,k=1,e="$$ngAnimateState",g="$$ngAnimateChildren",v="ng-animate",h={running:!0},o;r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(n,i,r,k,nt,tt,it,rt,ut,ft){function ct(n,t){var i=n.data(e)||{};return t&&(i.running=!0,i.structural=!0,n.data(e,i)),i.disabled||i.running&&i.structural}function ot(n){var t,r=i.defer();return r.promise.$$cancelFn=function(){t&&t()},it.$$postDigest(function(){t=n(function(){r.resolve()})}),r.promise}function st(n){if(d(n))return n.tempClasses&&b(n.tempClasses)&&(n.tempClasses=n.tempClasses.split(/\s+/)),n}function wt(n,t,i){var e,o,r,u;return i=i||{},e={},f(i,function(n,t){f(t.split(" "),function(t){e[t]=n})}),o=Object.create(null),f((n.attr("class")||"").split(/\s+/),function(n){o[n]=!0}),r=[],u=[],f(t&&t.classes||[],function(n,t){var i=o[t],f=e[t]||{};n===!1?(i||f.event=="addClass")&&u.push(t):n===!0&&(i&&f.event!="removeClass"||r.push(t))}),r.length+u.length>0&&[r.join(" "),u.join(" ")]}function bt(n){var t,i,f;if(n){var u=[],e={},o=n.substr(1).split(".");for((k.transitions||k.animations)&&u.push(r.get(w[""])),t=0;t<o.length;t++)i=o[t],f=w[i],f&&!e[i]&&(u.push(r.get(f)),e[i]=!0);return u}}function kt(n,i,r,u){function p(n,t){var i=n[t],r=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];if(i||r)return t=="leave"&&(r=i,i=null),d.push({event:t,fn:i}),k.push({event:t,fn:r}),!0}function g(t,i,h){function a(n){if(i){if((i[n]||s)(),++l<c.length)return;i=null}h()}var c=[],l;f(t,function(n){n.fn&&c.push(n)});l=0;f(c,function(t,f){var s=function(){a(f)};switch(t.event){case"setClass":i.push(t.fn(n,e,o,s,u));break;case"animate":i.push(t.fn(n,r,u.from,u.to,s));break;case"addClass":i.push(t.fn(n,e||r,s,u));break;case"removeClass":i.push(t.fn(n,o||r,s,u));break;default:i.push(t.fn(n,s,u))}});i&&i.length===0&&h()}var w=n[0],e,o;if(w){u&&(u.to=u.to||{},u.from=u.from||{});a(r)&&(e=r[0],o=r[1],e?o?r=e+" "+o:(r=e,i="addClass"):(r=o,i="removeClass"));var h=i=="setClass",nt=h||i=="addClass"||i=="removeClass"||i=="animate",tt=n.attr("class"),b=tt+" "+r;if(pt(b)){var c=s,l=[],k=[],v=s,y=[],d=[],it=(" "+b).replace(/\s+/g,".");return f(bt(it),function(n){var t=p(n,i);!t&&h&&(p(n,"addClass"),p(n,"removeClass"))}),{node:w,event:i,className:r,isClassBased:nt,isSetClassOperation:h,applyStyles:function(){u&&n.css(t.extend(u.from||{},u.to||{}))},before:function(n){c=n;g(k,l,function(){c=s;n()})},after:function(n){v=n;g(d,y,function(){v=s;n()})},cancel:function(){l&&(f(l,function(n){(n||s)(!0)}),c(!0));y&&(f(y,function(n){(n||s)(!0)}),v(!0))}}}}}function ht(n,i,r,u,h,c,l,a){function ft(t){var u="$animate:"+t;w&&w[u]&&w[u].length>0&&tt(function(){r.triggerHandler(u,{event:n,className:i})})}function ot(){ft("before")}function st(){ft("after")}function at(){ft("close");a()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,c())}function nt(){if(!nt.hasBeenRun){y&&y.applyStyles();nt.hasBeenRun=!0;l&&l.tempClasses&&f(l.tempClasses,function(n){o.removeClass(r,n)});var t=r.data(e);t&&(y&&y.isClassBased?et(r,i):(tt(function(){var t=r.data(e)||{};ut==t.index&&et(r,i,n)}),r.data(e,t)));at()}}var ht=s,y=kt(r,n,i,l),w,k,lt,rt,ut;if(!y||(n=y.event,i=y.className,w=t.element._data(y.node),w=w&&w.events,u||(u=h?h.parent():r.parent()),dt(r,u)))return g(),ot(),st(),nt(),ht;var b=r.data(e)||{},p=b.active||{},it=b.totalActive||0,ct=b.last,d=!1;if(it>0){if(k=[],y.isClassBased)ct.event=="setClass"?(k.push(ct),et(r,i)):p[i]&&(rt=p[i],rt.event==n?d=!0:(k.push(rt),et(r,i)));else if(n=="leave"&&p["ng-leave"])d=!0;else{for(lt in p)k.push(p[lt]);b={};et(r,!0)}k.length>0&&f(k,function(n){n.cancel()})}if(!y.isClassBased||y.isSetClassOperation||n=="animate"||d||(d=n=="addClass"==r.hasClass(i)),d)return g(),ot(),st(),at(),ht;if(p=b.active||{},it=b.totalActive||0,n=="leave")r.one("$destroy",function(){var i=t.element(this),r=i.data(e),n;r&&(n=r.active["ng-leave"],n&&(n.cancel(),et(i,"ng-leave")))});return o.addClass(r,v),l&&l.tempClasses&&f(l.tempClasses,function(n){o.addClass(r,n)}),ut=yt++,it++,p[i]=y,r.data(e,{last:y,active:p,index:ut,totalActive:it}),ot(),y.before(function(t){var u=r.data(e);t=t||!u||!u.active[i]||y.isClassBased&&u.active[i].event!=n;g();t===!0?nt():(st(),y.after(nt))}),y.cancel}function at(n){var i=c(n),r;i&&(r=t.isFunction(i.getElementsByClassName)?i.getElementsByClassName(v):i.querySelectorAll("."+v),f(r,function(n){n=t.element(n);var i=n.data(e);i&&i.active&&f(i.active,function(n){n.cancel()})}))}function et(n,t){if(p(n,nt))h.disabled||(h.running=!1,h.structural=!1);else if(t){var i=n.data(e)||{},r=t===!0;!r&&i.active&&i.active[t]&&(i.totalActive--,delete i.active[t]);(r||!i.totalActive)&&(o.removeClass(n,v),n.removeData(e))}}function dt(n,i){var u,f,c,o,r,s;if(h.disabled)return!0;if(p(n,nt))return h.running;do{if(i.length===0)break;if(o=p(i,nt),r=o?h:i.data(e)||{},r.disabled)return!0;o&&(c=!0);u!==!1&&(s=i.data(g),t.isDefined(s)&&(u=s));f=f||r.running||r.last&&!r.last.isClassBased}while(i=i.parent());return!c||!u&&f}o=ft;nt.data(e,h);var vt=it.$watch(function(){return ut.totalPendingRequests},function(n){n===0&&(vt(),it.$$postDigest(function(){it.$$postDigest(function(){h.running=!1})}))}),yt=0,lt=u.classNameFilter(),pt=lt?function(n){return lt.test(n)}:function(){return!0};return{animate:function(n,t,i,r,u){return r=r||"ng-inline-animate",u=st(u)||{},u.from=i?t:null,u.to=i?i:t,ot(function(t){return ht("animate",r,l(n),null,null,s,u,t)})},enter:function(i,r,u,f){return f=st(f),i=t.element(i),r=y(r),u=y(u),ct(i,!0),n.enter(i,r,u),ot(function(n){return ht("enter","ng-enter",l(i),r,u,s,f,n)})},leave:function(i,r){return r=st(r),i=t.element(i),at(i),ct(i,!0),ot(function(t){return ht("leave","ng-leave",l(i),null,null,function(){n.leave(i)},r,t)})},move:function(i,r,u,f){return f=st(f),i=t.element(i),r=y(r),u=y(u),at(i),ct(i,!0),n.move(i,r,u),ot(function(n){return ht("move","ng-move",l(i),r,u,s,f,n)})},addClass:function(n,t,i){return this.setClass(n,t,[],i)},removeClass:function(n,t,i){return this.setClass(n,[],t,i)},setClass:function(i,r,u,o){var h,v,s,y;return(o=st(o),h="$$animateClasses",i=t.element(i),i=l(i),ct(i))?n.$$setClassImmediately(i,r,u,o):(s=i.data(h),y=!!s,s||(s={},s.classes={}),v=s.classes,r=a(r)?r:r.split(" "),f(r,function(n){n&&n.length&&(v[n]=!0)}),u=a(u)?u:u.split(" "),f(u,function(n){n&&n.length&&(v[n]=!1)}),y)?(o&&s.options&&(s.options=t.extend(s.options||{},o)),s.promise):(i.data(h,s={classes:v,options:o}),s.promise=ot(function(t){var l=i.parent(),f=c(i),o=f.parentNode,u,s,r;if(!o||o.$$NG_REMOVED||f.$$NG_REMOVED){t();return}return u=i.data(h),i.removeData(h),s=i.data(e)||{},r=wt(i,u,s.active),r?ht("setClass",r,i,l,null,function(){r[0]&&n.$$addClassImmediately(i,r[0]);r[1]&&n.$$removeClassImmediately(i,r[1])},u.options,t):t()}))},cancel:function(n){n.$$cancelFn()},enabled:function(n,t){switch(arguments.length){case 2:if(n)et(t);else{var i=t.data(e)||{};i.disabled=!0;t.data(e,i)}break;case 1:h.disabled=!n;break;default:n=!h.disabled}return!!n}}}]);u.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,u,e,h){function nt(){w||(w=h(function(){g=[];w=null;p={}}))}function tt(n,t){w&&w();g.push(t);w=h(function(){f(g,function(n){n()});g=[];w=null;p={}})}function fi(n,i){var u=c(n),r;(n=t.element(u),at.push(n),r=Date.now()+i,r<=dt)||(e.cancel(kt),dt=r,kt=e(function(){ei(at);at=[]},i,!1))}function ei(n){f(n,function(n){var t=n.data(y);t&&f(t.closeAnimationFns,function(n){n()})})}function vt(n,t){var i=t?p[t]:null;if(!i){var u=0,e=0,o=0,s=0;f(n,function(n){var t,f,h,c,i;n.nodeType==k&&(t=r.getComputedStyle(n)||{},f=t[d+pt],u=Math.max(it(f),u),h=t[d+ct],e=Math.max(it(h),e),c=t[v+ct],s=Math.max(it(t[v+ct]),s),i=it(t[v+pt]),i>0&&(i*=parseInt(t[v+ti],10)||1),o=Math.max(i,o))});i={total:0,transitionDelay:e,transitionDuration:u,animationDelay:s,animationDuration:o};t&&(p[t]=i)}return i}function it(n){var t=0,i=b(n)?n.split(/\s*,\s*/):[];return f(i,function(n){t=Math.max(parseFloat(n)||0,t)}),t}function oi(n){var i=n.parent(),t=i.data(wt);return t||(i.data(wt,++bt),t=bt),t+"-"+c(n).getAttribute("class")}function si(n,t,i,r){var h=["ng-enter","ng-leave","ng-move"].indexOf(i)>=0,l=oi(t),u=l+" "+i,a=p[u]?++p[u].total:0,f={},s;if(a>0){var e=i+"-stagger",v=l+" "+e,w=!p[v];w&&o.addClass(t,e);f=vt(t,v);w&&o.removeClass(t,e)}o.addClass(t,i);var b=t.data(y)||{},k=vt(t,u),d=k.transitionDuration,g=k.animationDuration;if(h&&d===0&&g===0)return o.removeClass(t,i),!1;var nt=r||h&&d>0,tt=g>0&&f.animationDelay>0&&f.animationDuration===0,it=b.closeAnimationFns||[];return t.data(y,{stagger:f,cacheKey:u,running:b.running||0,itemIndex:a,blockTransition:nt,closeAnimationFns:it}),s=c(t),nt&&(yt(s,!0),r&&t.css(r)),tt&&gt(s,!0),!0}function hi(n,t,i,r,u){function ct(){var n,r;t.off(ft,at);o.removeClass(t,l);o.removeClass(t,b);d&&e.cancel(d);et(t,i);n=c(t);for(r in v)n.style.removeProperty(v[r])}function at(n){n.stopPropagation();var t=n.originalEvent||n,i=t.$manualTimeStamp||t.timeStamp||Date.now(),u=parseFloat(t.elapsedTime.toFixed(ri));Math.max(i-wt,0)>=ut&&u>=it&&r()}var a=c(t),h=t.data(y),l,b,nt,tt,rt,ut,k;if(a.getAttribute("class").indexOf(i)==-1||!h){r();return}l="";b="";f(i.split(" "),function(n,t){var i=(t>0?" ":"")+n;l+=i+"-active";b+=i+"-pending"});var v=[],g=h.itemIndex,p=h.stagger,w=0;g>0&&(nt=0,p.transitionDelay>0&&p.transitionDuration===0&&(nt=p.transitionDelay*g),tt=0,p.animationDelay>0&&p.animationDuration===0&&(tt=p.animationDelay*g,v.push(ot+"animation-play-state")),w=Math.round(Math.max(nt,tt)*100)/100);w||(o.addClass(t,l),h.blockTransition&&yt(a,!1));var pt=h.cacheKey+" "+l,s=vt(t,pt),it=Math.max(s.transitionDuration,s.animationDuration);if(it===0){o.removeClass(t,l);et(t,i);r();return}!w&&u&&Object.keys(u).length>0&&(s.transitionDuration||(t.css("transition",s.animationDuration+"s linear all"),v.push("transition")),t.css(u));rt=Math.max(s.transitionDelay,s.animationDelay);ut=rt*lt;v.length>0&&(k=a.getAttribute("style")||"",k.charAt(k.length-1)!==";"&&(k+=";"),a.setAttribute("style",k+" "));var wt=Date.now(),ft=ht+" "+st,bt=(rt+it)*ui,kt=(w+bt)*lt,d;w>0&&(o.addClass(t,b),d=e(function(){d=null;s.transitionDuration>0&&yt(a,!1);s.animationDuration>0&&gt(a,!1);o.addClass(t,l);o.removeClass(t,b);u&&(s.transitionDuration===0&&t.css("transition",s.animationDuration+"s linear all"),t.css(u),v.push("transition"))},w*lt,!1));t.on(ft,at);return h.closeAnimationFns.push(function(){ct();r()}),h.running++,fi(t,kt),ct}function yt(n,t){n.style[d+ni]=t?"none":""}function gt(n,t){n.style[v+ii]=t?"paused":""}function rt(n,t,i,r){if(si(n,t,i,r))return function(n){n&&et(t,i)}}function ut(n,t,i,r,u){if(t.data(y))return hi(n,t,i,r,u);et(t,i);r()}function ft(n,t,i,r,u){var e=rt(n,t,i,u.from),f;if(!e){nt();r();return}return f=e,tt(t,function(){f=ut(n,t,i,r,u.to)}),function(n){(f||s)(n)}}function et(n,t){o.removeClass(n,t);var i=n.data(y);i&&(i.running&&i.running--,i.running&&i.running!==0||n.removeData(y))}function l(n,t){var i="";return n=a(n)?n:n.split(/\s+/),f(n,function(n,r){n&&n.length>0&&(i+=(r>0?" ":"")+n+t)}),i}var ot="",d,st,v,ht;n.ontransitionend===i&&n.onwebkittransitionend!==i?(ot="-webkit-",d="WebkitTransition",st="webkitTransitionEnd transitionend"):(d="transition",st="transitionend");n.onanimationend===i&&n.onwebkitanimationend!==i?(ot="-webkit-",v="WebkitAnimation",ht="webkitAnimationEnd animationend"):(v="animation",ht="animationend");var pt="Duration",ni="Property",ct="Delay",ti="IterationCount",ii="PlayState",wt="$$ngAnimateKey",y="$$ngAnimateCSS3Data",ri=3,ui=1.5,lt=1e3,p={},bt=0,g=[],w;var kt=null,dt=0,at=[];return{animate:function(n,t,i,r,u,f){return f=f||{},f.from=i,f.to=r,ft("animate",n,t,u,f)},enter:function(n,t,i){return i=i||{},ft("enter",n,"ng-enter",t,i)},leave:function(n,t,i){return i=i||{},ft("leave",n,"ng-leave",t,i)},move:function(n,t,i){return i=i||{},ft("move",n,"ng-move",t,i)},beforeSetClass:function(n,t,i,r,u){u=u||{};var e=l(i,"-remove")+" "+l(t,"-add"),f=rt("setClass",n,e,u.from);if(f)return tt(n,r),f;nt();r()},beforeAddClass:function(n,t,i,r){r=r||{};var u=rt("addClass",n,l(t,"-add"),r.from);if(u)return tt(n,i),u;nt();i()},beforeRemoveClass:function(n,t,i,r){r=r||{};var u=rt("removeClass",n,l(t,"-remove"),r.from);if(u)return tt(n,i),u;nt();i()},setClass:function(n,t,i,r,u){u=u||{};i=l(i,"-remove");t=l(t,"-add");var f=i+" "+t;return ut("setClass",n,f,r,u.to)},addClass:function(n,t,i,r){return r=r||{},ut("addClass",n,l(t,"-add"),i,r.to)},removeClass:function(n,t,i,r){return r=r||{},ut("removeClass",n,l(t,"-remove"),i,r.to)}}}])}])})(window,window.angular),function(n,t){"use strict";function g(){this.$get=["$$sanitizeUri",function(n){return function(t){var i=[];return at(t,k(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]}function nt(n){var i=[],r=k(i,t.noop);return r.chars(n),i.join("")}function i(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function at(n,i){function g(n,f,e,o){if(f=t.lowercase(f),a[f])while(r.last()&&v[r.last()])w("",r.last());l[f]&&r.last()==f&&w("",f);o=s[f]||!!o;o||r.push(f);var h={};e.replace(tt,function(n,t,i,r,f){var e=i||r||f||"";h[t]=u(e)});i.start&&i.start(f,h,o)}function w(n,u){var f=0,e;if(u=t.lowercase(u),u)for(f=r.length-1;f>=0;f--)if(r[f]==u)break;if(f>=0){for(e=r.length-1;e>=f;e--)i.end&&i.end(r[e]);r.length=f}}typeof n!="string"&&(n=n===null||typeof n=="undefined"?"":""+n);var c,p,h,r=[],k=n,b;for(r.last=function(){return r[r.length-1]};n;){if(b="",p=!0,r.last()&&y[r.last()]?(n=n.replace(new RegExp("(.*)<\\s*\\/\\s*"+r.last()+"[^>]*>","i"),function(n,t){return t=t.replace(ut,"$1").replace(ft,"$1"),i.chars&&i.chars(u(t)),""}),w("",r.last())):(n.indexOf("<!--")===0?(c=n.indexOf("--",4),c>=0&&n.lastIndexOf("-->",c)===c&&(i.comment&&i.comment(n.substring(4,c)),n=n.substring(c+3),p=!1)):o.test(n)?(h=n.match(o),h&&(n=n.replace(h[0],""),p=!1)):rt.test(n)?(h=n.match(e),h&&(n=n.substring(h[0].length),h[0].replace(e,w),p=!1)):it.test(n)&&(h=n.match(f),h?(h[4]&&(n=n.substring(h[0].length),h[0].replace(f,g)),p=!1):(b+="<",n=n.substring(1))),p&&(c=n.indexOf("<"),b+=c<0?n:n.substring(0,c),n=c<0?"":n.substring(c),i.chars&&i.chars(u(b)))),n==k)throw d("badparse","The sanitizer was unable to parse the following block of html: {0}",n);k=n}w()}function u(n){if(!n)return"";var i=vt.exec(n),u=i[1],f=i[3],t=i[2];return t&&(r.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in r?r.textContent:r.innerText),u+t+f}function b(n){return n.replace(/&/g,"&amp;").replace(et,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(ot,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,f,e){n=t.lowercase(n);!u&&y[n]&&(u=n);u||p[n]!==!0||(r("<"),r(n),t.forEach(f,function(u,f){var e=t.lowercase(f),o=n==="img"&&e==="src"||e==="background";lt[e]===!0&&(w[e]!==!0||i(u,o))&&(r(" "),r(f),r('="'),r(b(u)),r('"'))}),r(e?"/>":">"))},end:function(n){n=t.lowercase(n);u||p[n]!==!0||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(b(n))}}}var d=t.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,e=/^<\/\s*([\w:-]+)[^>]*>/,tt=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,it=/^</,rt=/^<\//,ut=/<!--(.*?)-->/g,o=/<!DOCTYPE([^>]*?)>/i,ft=/<!\[CDATA\[(.*?)]]>/g,et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ot=/([^\#-~| |!])/g,s=i("area,br,col,hr,img,wbr"),h=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c=i("rp,rt"),l=t.extend({},c,h),a=t.extend({},h,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),v=t.extend({},c,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),st=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),y=i("script,style"),p=t.extend({},s,a,v,l,st),w=i("background,cite,href,longdesc,src,usemap,xlink:href"),ht=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),ct=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),lt=t.extend({},w,ct,ht),r=document.createElement("pre"),vt=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",g);t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(u,f){function l(n){n&&o.push(nt(n))}function a(n,i){o.push("<a ");t.isDefined(f)&&o.push('target="',f,'" ');o.push('href="',n.replace(/"/g,"&quot;"),'">');l(i);o.push("<\/a>")}if(!u)return u;for(var e,s=u,o=[],h,c;e=s.match(i);)h=e[0],e[2]||e[4]||(h=(e[3]?"http://":"mailto:")+h),c=e.index,l(s.substr(0,c)),a(h,e[0].replace(r,"")),s=s.substring(c+e[0].length);return l(s),n(o.join(""))}}])}(window,window.angular),function(n,t,i){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(n,r){function c(){var n,e,o,s;for(n in f)h(u[n])&&r.cookies(n,i);for(n in u)e=u[n],t.isString(e)||(e=""+e,u[n]=e),e!==f[n]&&(r.cookies(n,e),s=!0);if(s){s=!1;o=r.cookies();for(n in u)u[n]!==o[n]&&(h(o[n])?delete u[n]:u[n]=o[n],s=!0)}}var u={},f={},e,o=!1,s=t.copy,h=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();e!=t&&(e=t,s(t,f),s(t,u),o&&n.$apply())})(),o=!0,n.$watch(c),u}]).factory("$cookieStore",["$cookies",function(n){return{get:function(i){var r=n[i];return r?t.fromJson(r):r},put:function(i,r){n[i]=t.toJson(r)},remove:function(t){delete n[t]}}}])}(window,window.angular),function(n,t){"use strict";function e(){function i(n,i){return t.extend(Object.create(n),i)}function r(n,t){var r=t.caseInsensitiveMatch,i={originalPath:n,regexp:n},u=i.keys=[];return n=n.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(n,t,i,r){var f=r==="?"?r:null,e=r==="*"?r:null;return u.push({name:i,optional:!!f}),t=t||"",""+(f?"":t)+"(?:"+(f?t:"")+(e&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+n+"$",r?"i":""),i}var n={};this.when=function(i,u){var f=t.copy(u),e;return t.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),t.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),n[i]=t.extend(f,i&&r(i,f)),i&&(e=i[i.length-1]=="/"?i.substr(0,i.length-1):i+"/",n[e]=t.extend({redirectTo:i},r(e,f))),this};this.caseInsensitiveMatch=!1;this.otherwise=function(n){return typeof n=="string"&&(n={redirectTo:n}),this.when(null,n),this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,u,e,o,s,h,c){function k(n,t){var s=t.keys,e={},r,i,o,u,f;if(!t.regexp||(r=t.regexp.exec(n),!r))return null;for(i=1,o=r.length;i<o;++i)u=s[i-1],f=r[i],u&&f&&(e[u.name]=f);return e}function p(n){var i=a.current;l=d();y=l&&i&&l.$$route===i.$$route&&t.equals(l.pathParams,i.pathParams)&&!l.reloadOnSearch&&!v;!y&&(i||l)&&r.$broadcast("$routeChangeStart",l,i).defaultPrevented&&n&&n.preventDefault()}function w(){var i=a.current,n=l;y?(i.params=n.params,t.copy(i.params,e),r.$broadcast("$routeUpdate",i)):(n||i)&&(v=!1,a.current=n,n&&n.redirectTo&&(t.isString(n.redirectTo)?u.path(b(n.redirectTo,n.params)).search(n.params).replace():u.url(n.redirectTo(n.pathParams,u.path(),u.search())).replace()),o.when(n).then(function(){if(n){var u=t.extend({},n.resolve),r,i;return t.forEach(u,function(n,i){u[i]=t.isString(n)?s.get(n):s.invoke(n,null,null,i)}),t.isDefined(r=n.template)?t.isFunction(r)&&(r=r(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),i=c.getTrustedResourceUrl(i),t.isDefined(i)&&(n.loadedTemplateUrl=i,r=h(i))),t.isDefined(r)&&(u.$template=r),o.all(u)}}).then(function(u){n==a.current&&(n&&(n.locals=u,t.copy(n.params,e)),r.$broadcast("$routeChangeSuccess",n,i))},function(t){n==a.current&&r.$broadcast("$routeChangeError",n,i,t)}))}function d(){var f,r;return t.forEach(n,function(n){!r&&(f=k(u.path(),n))&&(r=i(n,{params:t.extend({},u.search(),f),pathParams:f}),r.$$route=n)}),r||n[null]&&i(n[null],{params:{},pathParams:{}})}function b(n,i){var r=[];return t.forEach((n||"").split(":"),function(n,t){if(t===0)r.push(n);else{var u=n.match(/(\w+)(?:[?*])?(.*)/),f=u[1];r.push(i[f]);r.push(u[2]||"");delete i[f]}}),r.join("")}var v=!1,l,y,a={routes:n,reload:function(){v=!0;r.$evalAsync(function(){p();w()})},updateParams:function(n){if(this.current&&this.current.$$route){var i={},r=this;t.forEach(Object.keys(n),function(t){r.current.pathParams[t]||(i[t]=n[t])});n=t.extend({},this.current.params,n);u.path(b(this.current.$$route.originalPath,n));u.search(t.extend({},u.search(),i))}else throw f("norout","Tried updating route when with no current route");}};return r.$on("$locationChangeStart",p),r.$on("$locationChangeSuccess",w),a}]}function o(){this.$get=function(){return{}}}function r(n,i,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(u,f,e,o,s){function v(){c&&(r.cancel(c),c=null);h&&(h.$destroy(),h=null);l&&(c=r.leave(l),c.then(function(){c=null}),l=null)}function y(){var e=n.current&&n.current.locals,c=e&&e.$template;if(t.isDefined(c)){var o=u.$new(),y=n.current,w=s(o,function(n){r.enter(n,null,l||f).then(function(){t.isDefined(a)&&(!a||u.$eval(a))&&i()});v()});l=w;h=y.scope=o;h.$emit("$viewContentLoaded");h.$eval(p)}else v()}var h,l,c,a=e.autoscroll,p=e.onload||"";u.$on("$routeChangeSuccess",y);y()}}}function u(n,t,i){return{restrict:"ECA",priority:-400,link:function(r,u){var f=i.current,o=f.locals,s,e;u.html(o.$template);s=n(u.contents());f.controller&&(o.$scope=r,e=t(f.controller,o),f.controllerAs&&(r[f.controllerAs]=e),u.data("$ngControllerController",e),u.children().data("$ngControllerController",e));s(r)}}}var i=t.module("ngRoute",["ng"]).provider("$route",e),f=t.$$minErr("ngRoute");i.provider("$routeParams",o);i.directive("ngView",r);i.directive("ngView",u);r.$inject=["$route","$anchorScroll","$animate"];u.$inject=["$compile","$controller","$route"]}(window,window.angular);angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function(n,t,i){"use strict";return{require:"ngModel",restrict:"A, C",link:function(r,u,f,e){function it(){var n=k;tt=o;s=getComputedStyle(o);angular.forEach(ot,function(t){n+=t+":"+s.getPropertyValue(t)+";"});h.setAttribute("style",n)}function v(){var u,i,t,f,e;tt!==o&&it();a||(a=!0,h.value=o.value+rt,h.style.overflowY=o.style.overflowY,u=o.style.height===""?"auto":parseInt(o.style.height,10),i=getComputedStyle(o).getPropertyValue("width"),i.substr(i.length-2,2)==="px"&&(f=parseInt(i,10)-p.width,h.style.width=f+"px"),t=h.scrollHeight,t>c?(t=c,e="scroll"):t<nt&&(t=nt),t+=p.height,o.style.overflowY=e||"hidden",u!==t&&(o.style.height=t+"px",r.$emit("elastic:resize",l)),n(function(){a=!1},1))}function y(){a=!1;v()}var o=u[0],l=u,w;if(o.nodeName==="TEXTAREA"&&t.getComputedStyle){l.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});w=o.value;o.value="";o.value=w;var rt=f.msdElastic?f.msdElastic.replace(/\\n/g,"\n"):i.append,b=angular.element(t),k="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",d=angular.element('<textarea tabindex="-1" style="'+k+'"/>').data("elastic",!0),h=d[0],s=getComputedStyle(o),g=s.getPropertyValue("resize"),ut=s.getPropertyValue("box-sizing")==="border-box"||s.getPropertyValue("-moz-box-sizing")==="border-box"||s.getPropertyValue("-webkit-box-sizing")==="border-box",p=ut?{width:parseInt(s.getPropertyValue("border-right-width"),10)+parseInt(s.getPropertyValue("padding-right"),10)+parseInt(s.getPropertyValue("padding-left"),10)+parseInt(s.getPropertyValue("border-left-width"),10),height:parseInt(s.getPropertyValue("border-top-width"),10)+parseInt(s.getPropertyValue("padding-top"),10)+parseInt(s.getPropertyValue("padding-bottom"),10)+parseInt(s.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},ft=parseInt(s.getPropertyValue("min-height"),10),et=parseInt(s.getPropertyValue("height"),10),nt=Math.max(ft,et)-p.height,c=parseInt(s.getPropertyValue("max-height"),10),tt,a,ot=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];l.data("elastic")||(c=c&&c>0?c:9e4,h.parentNode!==document.body&&angular.element(document.body).append(h),l.css({resize:g==="none"||g==="vertical"?"none":"horizontal"}).data("elastic",!0),o.oninput="onpropertychange"in o&&"oninput"in o?o.onkeyup=v:v,b.bind("resize",y),r.$watch(function(){return e.$modelValue},function(){y()}),r.$on("elastic:adjust",function(){it();y()}),n(v),r.$on("$destroy",function(){d.remove();b.unbind("resize",y)}))}}}}]),function(){"use strict";angular.module("ui.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden"})}(),function(){"use strict";var n=angular.module("ui.sortable");n.factory("$helper",["$document","$window",function(n,t){return{height:function(n){return n.prop("offsetHeight")},width:function(n){return n.prop("offsetWidth")},offset:function(i,r){var u=i[0].getBoundingClientRect();return r||(r=n[0].documentElement),{width:u.width||i.prop("offsetWidth"),height:u.height||i.prop("offsetHeight"),top:u.top+(t.pageYOffset||r.scrollTop-r.offsetTop),left:u.left+(t.pageXOffset||r.scrollLeft-r.offsetLeft)}},eventObj:function(n){var t=n;return n.targetTouches!==undefined?t=n.targetTouches.item(0):n.originalEvent!==undefined&&n.originalEvent.targetTouches!==undefined&&(t=n.originalEvent.targetTouches.item(0)),t},isTouchInvalid:function(n){var t=!1;return n.touches!==undefined&&n.touches.length>1?t=!0:n.originalEvent!==undefined&&n.originalEvent.touches!==undefined&&n.originalEvent.touches.length>1&&(t=!0),t},positionStarted:function(n,t,i){var r={};return r.offsetX=n.pageX-this.offset(t,i).left,r.offsetY=n.pageY-this.offset(t,i).top,r.startX=r.lastX=n.pageX,r.startY=r.lastY=n.pageY,r.nowX=r.nowY=r.distX=r.distY=r.dirAx=0,r.dirX=r.dirY=r.lastDirX=r.lastDirY=r.distAxX=r.distAxY=0,r},calculatePosition:function(n,t){n.lastX=n.nowX;n.lastY=n.nowY;n.nowX=t.pageX;n.nowY=t.pageY;n.distX=n.nowX-n.lastX;n.distY=n.nowY-n.lastY;n.lastDirX=n.dirX;n.lastDirY=n.dirY;n.dirX=n.distX===0?0:n.distX>0?1:-1;n.dirY=n.distY===0?0:n.distY>0?1:-1;var i=Math.abs(n.distX)>Math.abs(n.distY)?1:0;n.dirAx!==i?(n.distAxX=0,n.distAxY=0):(n.distAxX+=Math.abs(n.distX),n.dirX!==0&&n.dirX!==n.lastDirX&&(n.distAxX=0),n.distAxY+=Math.abs(n.distY),n.dirY!==0&&n.dirY!==n.lastDirY&&(n.distAxY=0));n.dirAx=i},movePosition:function(n,t,i,r,u,f){var e,o=u==="relative";t.x=n.pageX-i.offsetX;t.y=n.pageY-i.offsetY;r&&(e=this.offset(r,f),o&&(t.x-=e.left,t.y-=e.top,e.left=0,e.top=0),t.x<e.left?t.x=e.left:t.x>=e.width+e.left-this.offset(t).width&&(t.x=e.width+e.left-this.offset(t).width),t.y<e.top?t.y=e.top:t.y>=e.height+e.top-this.offset(t).height&&(t.y=e.height+e.top-this.offset(t).height));t.css({left:t.x+"px",top:t.y+"px"});this.calculatePosition(i,n)},dragItem:function(n){return{index:n.index(),parent:n.sortableScope,source:n,sourceInfo:{index:n.index(),itemScope:n.itemScope,sortableScope:n.sortableScope},moveTo:function(n,t){this.parent=n;this.isSameParent()&&this.source.index()<t&&(t=t-1);this.index=t},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index);this.parent.insertItem(this.index,this.source.modelValue)}}},noDrag:function(n){return n.attr("no-drag")!==undefined||n.attr("data-no-drag")!==undefined}}}])}(),function(){"use strict";var n=angular.module("ui.sortable");n.controller("ui.sortable.sortableController",["$scope",function(n){this.scope=n;n.modelValue=null;n.callbacks=null;n.type="sortable";n.options={};n.isDisabled=!1;n.insertItem=function(t,i){n.safeApply(function(){n.modelValue.splice(t,0,i)})};n.removeItem=function(t){var i=null;return t>-1&&n.safeApply(function(){i=n.modelValue.splice(t,1)[0]}),i};n.isEmpty=function(){return n.modelValue&&n.modelValue.length===0};n.accept=function(t,i,r){return n.callbacks.accept(t,i,r)};n.safeApply=function(n){var t=this.$root.$$phase;t==="$apply"||t==="$digest"?n&&typeof n=="function"&&n():this.$apply(n)}}]);n.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"ui.sortable.sortableController",link:function(n,t,i,r){var f,u;(f=r,f)&&(f.$render=function(){f.$modelValue&&angular.isArray(f.$modelValue)||f.$setViewValue([]);n.modelValue=f.$modelValue},n.element=t,u={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragCancel:null,dragEnd:null},u.accept=function(){return!0},u.orderChanged=function(){},u.itemMoved=function(){},u.dragStart=function(){},u.dragCancel=function(){},u.dragEnd=function(){},n.$watch(i.asSortable,function(t){angular.forEach(t,function(t,i){u[i]?typeof t=="function"&&(u[i]=t):n.options[i]=t});n.callbacks=u},!0),angular.isDefined(i.isDisabled)&&n.$watch(i.isDisabled,function(t){angular.isUndefined(t)||(n.isDisabled=t)},!0))}}})}(),function(){"use strict";var n=angular.module("ui.sortable");n.controller("ui.sortable.sortableItemHandleController",["$scope",function(n){this.scope=n;n.itemScope=null;n.type="handle"}]);n.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document",function(n,t,i,r){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"ui.sortable.sortableItemHandleController",link:function(u,f,e,o){function ct(n,t){n[0].parentNode.insertBefore(c[0],n[0]);h.moveTo(t.sortableScope,t.index())}function lt(n,t){n.after(c);h.moveTo(t.sortableScope,t.index()+1)}function at(){b.replaceWith(u.itemScope.element);c.remove();s.remove();s=null;v=!1;a.css("cursor","")}var s,c,b,l,h,a,nt,y,k,ut,p,w,d,ft,et,ot,tt,st,ht,it,g,v,rt=!1;g=i.hasOwnProperty("ontouchstart");n.handleClass&&f.addClass(n.handleClass);u.itemScope=o.scope;u.$watch("sortableScope.isDisabled",function(n){rt!==n&&(rt=n,rt?st():tt())});y=function(n){var i=function(){angular.element(r).unbind("mousemove",e);angular.element(r).unbind("touchmove",e);f.unbind("mouseup",i);f.unbind("touchend",i);f.unbind("touchcancel",i)},u,e=function(r){r.preventDefault();var f=t.eventObj(r);u||(u={clientX:f.clientX,clientY:f.clientY});Math.abs(f.clientX-u.clientX)+Math.abs(f.clientY-u.clientY)>10&&(i(),ut(n))};angular.element(r).bind("mousemove",e);angular.element(r).bind("touchmove",e);f.bind("mouseup",i);f.bind("touchend",i);f.bind("touchcancel",i)};ut=function(i){var f,e;(g||i.button!==2&&i.which!==3)&&(g&&t.isTouchInvalid(i)||!v&&ft(i)&&(v=!0,i.preventDefault(),f=t.eventObj(i),k=angular.element(r[0].querySelector(u.sortableScope.options.scrollableContainer)).length>0?r[0].querySelector(u.sortableScope.options.scrollableContainer):r[0].documentElement,a=angular.element(r[0].querySelector(u.sortableScope.options.containment)).length>0?angular.element(r[0].querySelector(u.sortableScope.options.containment)):angular.element(r[0].body),a.css("cursor","move"),nt=u.sortableScope.options.containerPositioning||"absolute",h=t.dragItem(u),e=u.itemScope.element.prop("tagName"),s=angular.element(r[0].createElement(u.sortableScope.element.prop("tagName"))).addClass(u.sortableScope.element.attr("class")).addClass(n.dragClass),s.css("width",t.width(u.itemScope.element)+"px"),s.css("height",t.height(u.itemScope.element)+"px"),c=angular.element(r[0].createElement(e)).addClass(n.placeHolderClass).addClass(u.sortableScope.options.additionalPlaceholderClass),c.css("width",t.width(u.itemScope.element)+"px"),c.css("height",t.height(u.itemScope.element)+"px"),b=angular.element(r[0].createElement(e)),n.hiddenClass&&b.addClass(n.hiddenClass),l=t.positionStarted(f,u.itemScope.element,k),u.itemScope.element.after(c),u.itemScope.element.after(b),s.append(u.itemScope.element),a.append(s),t.movePosition(f,s,l,a,nt,k),u.sortableScope.$apply(function(){u.callbacks.dragStart(h.eventArgs())}),ht()))};ft=function(n){var i,r,u;for(i=angular.element(n.target),r=i.scope(),u=!1;!u&&r!==undefined;)r.type&&r.type==="handle"?u=!0:r=r.$parent;while(u&&i[0]!==f[0])t.noDrag(i)&&(u=!1),i=i.parent();return u};p=function(f){var y,p,w,e,o;if((!g||!t.isTouchInvalid(f))&&v&&s){if(f.preventDefault(),y=t.eventObj(f),t.movePosition(y,s,l,a,nt,k),p=y.pageX-r[0].documentElement.scrollLeft,w=y.pageY-(i.pageYOffset||r[0].documentElement.scrollTop),s.addClass(n.hiddenClass),r[0].elementFromPoint(p,w),o=angular.element(r[0].elementFromPoint(p,w)),s.removeClass(n.hiddenClass),e=o.scope(),!e||!e.type)return;if(e.type==="handle"&&(e=e.itemScope),e.type!=="item"&&e.type!=="sortable")return;e.type==="item"&&(o=e.element,e.sortableScope.accept(u,e.sortableScope,e)&&(l.dirAx&&u.itemScope.sortableScope.$id===e.sortableScope.$id?(l.distAxX=0,l.distX<0?ct(o,e):l.distX>0&&lt(o,e)):et(y,o)?ct(o,e):lt(o,e)));e.type==="sortable"&&e.accept(u,e)&&o[0].parentNode!==e.element[0]&&(ot(o)||(o[0].appendChild(c[0]),h.moveTo(e,e.modelValue.length)))}};ot=function(t){for(var u,r=t.children(),i=0;i<r.length;i+=1)if(angular.element(r[i]).hasClass(n.placeHolderClass)){u=!0;break}return u};et=function(n,i){var u,r;return u=!1,r=t.offset(i),t.offset(c).top>r.top?t.offset(s).top<r.top+t.height(i)/2:n.pageY<r.top};w=function(n){v&&(n.preventDefault(),s&&(at(),h.apply(),u.sortableScope.$apply(function(){h.isSameParent()?h.isOrderChanged()&&u.callbacks.orderChanged(h.eventArgs()):u.callbacks.itemMoved(h.eventArgs())}),u.sortableScope.$apply(function(){u.callbacks.dragEnd(h.eventArgs())}),h=null),it())};d=function(n){v&&(n.preventDefault(),s&&(at(),u.sortableScope.$apply(function(){u.callbacks.dragCancel(h.eventArgs())}),h=null),it())};tt=function(){f.bind("touchstart",y);f.bind("mousedown",y)};st=function(){f.unbind("touchstart",y);f.unbind("mousedown",y)};tt();angular.element(r[0].body).bind("keydown",function(n){n.keyCode===27&&d(n)});ht=function(){angular.element(r).bind("touchmove",p);angular.element(r).bind("touchend",w);angular.element(r).bind("touchcancel",d);angular.element(r).bind("mousemove",p);angular.element(r).bind("mouseup",w)};it=function(){angular.element(r).unbind("touchend",w);angular.element(r).unbind("touchcancel",d);angular.element(r).unbind("touchmove",p);angular.element(r).unbind("mouseup",w);angular.element(r).unbind("mousemove",p)}}}}])}(),function(){"use strict";var n=angular.module("ui.sortable");n.controller("ui.sortable.sortableItemController",["$scope",function(n){this.scope=n;n.sortableScope=null;n.modelValue=null;n.type="item";n.index=function(){return n.sortableScope.modelValue.indexOf(n.modelValue)};n.itemData=function(){return n.sortableScope.modelValue[n.$index]}}]);n.directive("asSortableItem",["sortableConfig",function(n){return{require:"^asSortable",restrict:"A",controller:"ui.sortable.sortableItemController",link:function(t,i,r,u){n.itemClass&&i.addClass(n.itemClass);t.sortableScope=u.scope;t.modelValue=u.scope.modelValue[t.$index];t.element=i}}}])}();angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(n){var i=n.storageKey(),t=n.storage();t?t.get(i)?n.use(t.get(i)):angular.isString(n.preferredLanguage())?n.use(n.preferredLanguage()):t.set(i,n.use()):angular.isString(n.preferredLanguage())&&n.use(n.preferredLanguage())}]);angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(n){var r={},u,s=[],a,t,v,i,h,o,y=n,b,f,rt,k=[],d=!1,e,g="translate-cloak",ut,p,w,ft=!1,nt=".",et=function(){var n=window.navigator;return(n.language||n.browserLanguage||n.systemLanguage||n.userLanguage||"").split("-").join("_")},ot=function(n){for(var t=[],f=angular.lowercase(n),r=0,e=s.length,u,i;r<e;r++)t.push(angular.lowercase(s[r]));return t.indexOf(f)>-1?f:a&&a[n]&&(u=a[n],t.indexOf(angular.lowercase(u))>-1)?u:(i=n.split("_"),i.length>1&&t.indexOf(angular.lowercase(i[0]))>1?i[0]:void 0)},c=function(n,t){if(!n&&!t)return r;if(n&&!t){if(angular.isString(n))return r[n]}else angular.isObject(r[n])||(r[n]={}),angular.extend(r[n],l(t));return this},l,tt,it;this.translations=c;this.cloakClassName=function(n){return n?(g=n,this):g};l=function(n,t,i,r){var u,e,o,f;t||(t=[]);i||(i={});for(u in n)n.hasOwnProperty(u)&&(f=n[u],angular.isObject(f)?l(f,t.concat(u),i,u):(e=t.length?""+t.join(nt)+nt+u:u,t.length&&u===r&&(o=""+t.join(nt),i[o]="@:"+e),i[e]=f));return i};this.addInterpolation=function(n){return k.push(n),this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(n){return rt=n,this};this.useSanitizeValueStrategy=function(n){return d=n,this};this.preferredLanguage=function(n){return n?(u=n,this):u};this.translationNotFoundIndicator=function(n){return this.translationNotFoundIndicatorLeft(n),this.translationNotFoundIndicatorRight(n),this};this.translationNotFoundIndicatorLeft=function(n){return n?(p=n,this):p};this.translationNotFoundIndicatorRight=function(n){return n?(w=n,this):w};this.fallbackLanguage=function(n){return tt(n),this};tt=function(n){return n?(angular.isString(n)?(v=!0,t=[n]):angular.isArray(n)&&(v=!1,t=n),angular.isString(u)&&t.push(u),this):v?t[0]:t};this.use=function(n){if(n){if(!r[n]&&!e)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+n+"'");return i=n,this}return i};it=function(n){if(!n)return b?b+y:y;y=n};this.storageKey=it;this.useUrlLoader=function(n){return this.useLoader("$translateUrlLoader",{url:n})};this.useStaticFilesLoader=function(n){return this.useLoader("$translateStaticFilesLoader",n)};this.useLoader=function(n,t){return e=n,ut=t||{},this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(n){return o=n,this};this.storagePrefix=function(n){return n?(b=n,this):n};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(n){return f=n,this};this.usePostCompiling=function(n){return ft=!!n,this};this.determinePreferredLanguage=function(n){var t=n&&angular.isFunction(n)?n():et();if(s.length)u=ot(t);else return u=t,this};this.registerAvailableLanguageKeys=function(n,t){return n?(s=n,t&&(a=t),this):s};this.$get=["$log","$injector","$rootScope","$q",function(n,s,a,b){var ot,ct=s.get(rt||"$translateDefaultInterpolation"),lt=!1,at={},et={},vt,st,nt=function(n,r,f){var e=b.defer(),s;return n=n.trim(),s=function(){var n=u?et[u]:et[i],r,f;return vt=0,o&&!n&&(r=ot.get(y),n=et[r],t&&t.length&&(f=bt(t,r),vt=f>-1?f+=1:0,t.push(u))),n}(),s?s.then(function(){gt(n,r,f).then(e.resolve,e.reject)},e.reject):gt(n,r,f).then(e.resolve,e.reject),e.promise},bt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},wt=function(n){return p&&(n=[p,n].join(" ")),w&&(n=[n,w].join(" ")),n},pt=function(n){i=n;a.$emit("$translateChangeSuccess");o&&ot.set(nt.storageKey(),i);ct.setLocale(i);angular.forEach(at,function(n,t){at[t].setLocale(i)});a.$emit("$translateChangeEnd")},ht=function(n){if(!n)throw"No language key specified for loading.";var t=b.defer();return a.$emit("$translateLoadingStart"),lt=!0,s.get(e)(angular.extend(ut,{key:n})).then(function(i){var r={};a.$emit("$translateLoadingSuccess");angular.isArray(i)?angular.forEach(i,function(n){angular.extend(r,l(n))}):angular.extend(r,l(i));lt=!1;t.resolve({key:n,table:r});a.$emit("$translateLoadingEnd")},function(n){a.$emit("$translateLoadingError");t.reject(n);a.$emit("$translateLoadingEnd")}),t.promise},yt,ti;if(o&&(ot=s.get(o),!ot.get||!ot.set))throw new Error("Couldn't use storage '"+o+"', missing get() or set() method!");angular.isFunction(ct.useSanitizeValueStrategy)&&ct.useSanitizeValueStrategy(d);k.length&&angular.forEach(k,function(n){var t=s.get(n);t.setLocale(u||i);angular.isFunction(t.useSanitizeValueStrategy)&&t.useSanitizeValueStrategy(d);at[t.getInterpolationIdentifier()]=t});var ii=function(n){var t=b.defer();return r.hasOwnProperty(n)?(t.resolve(r[n]),t.promise):(et[n].then(function(n){c(n.key,n.table);t.resolve(n.table)},t.reject),t.promise)},ri=function(n,t,r,u){var f=b.defer();return ii(n).then(function(e){e.hasOwnProperty(t)?(u.setLocale(n),f.resolve(u.interpolate(e[t],r)),u.setLocale(i)):f.reject()},f.reject),f.promise},ui=function(n,t,u,f){var e,o=r[n];return o.hasOwnProperty(t)&&(f.setLocale(n),e=f.interpolate(o[t],u),f.setLocale(i)),e},kt=function(n,i,r,u){var f=b.defer(),e;return n<t.length?(e=t[n],ri(e,i,r,u).then(function(n){f.resolve(n)},function(){var t=kt(n+1,i,r,u);f.resolve(t)})):f.resolve(i),f.promise},dt=function(n,i,r,u){var f,e;return n<t.length&&(e=t[n],f=ui(e,i,r,u),f||(f=dt(n+1,i,r,u))),f},fi=function(n,t,i){return kt(st>0?st:vt,n,t,i)},ei=function(n,t,i){return dt(st>0?st:vt,n,t,i)},gt=function(n,u,e){var o=b.defer(),c=i?r[i]:r,l=e?at[e]:ct,h;return c&&c.hasOwnProperty(n)?(h=c[n],h.substr(0,2)==="@:"?nt(h.substr(2),u,e).then(o.resolve,o.reject):o.resolve(l.interpolate(h,u))):(f&&!lt&&s.get(f)(n,i),i&&t&&t.length?fi(n,u,l).then(function(n){o.resolve(n)},function(n){o.reject(wt(n))}):o.reject(wt(n))),o.promise},ni=function(n,u,e){var o,c=i?r[i]:r,l=e?at[e]:ct,h;return c&&c.hasOwnProperty(n)?(h=c[n],o=h.substr(0,2)==="@:"?ni(h.substr(2),u,e):l.interpolate(h,u)):(f&&!lt&&s.get(f)(n,i),i&&t&&t.length?(vt=0,o=ei(n,u,l)):o=wt(n)),o};if(nt.preferredLanguage=function(){return u},nt.cloakClassName=function(){return g},nt.fallbackLanguage=function(n){if(n!==undefined&&n!==null){if(tt(n),e&&t&&t.length)for(var i=0,r=t.length;i<r;i++)et[t[i]]||(et[t[i]]=ht(t[i]));nt.use(nt.use())}return v?t[0]:t},nt.useFallbackLanguage=function(n){if(n!==undefined&&n!==null)if(n){var i=bt(t,n);i>-1&&(st=i)}else st=0},nt.proposedLanguage=function(){return h},nt.storage=function(){return ot},nt.use=function(n){if(!n)return i;var t=b.defer();return a.$emit("$translateChangeStart"),!r[n]&&e?(h=n,et[n]=ht(n).then(function(i){c(i.key,i.table);t.resolve(i.key);h===n&&(pt(i.key),h=undefined)},function(n){h=undefined;a.$emit("$translateChangeError");t.reject(n);a.$emit("$translateChangeEnd")})):(t.resolve(n),pt(n)),t.promise},nt.storageKey=function(){return it()},nt.isPostCompilingEnabled=function(){return ft},nt.refresh=function(n){function s(){u.resolve();a.$emit("$translateRefreshEnd")}function h(){u.reject();a.$emit("$translateRefreshEnd")}var u,f,o,l;if(!e)throw new Error("Couldn't refresh translation table, no loader registered!");if(u=b.defer(),a.$emit("$translateRefreshStart"),n)r[n]?ht(n).then(function(t){c(t.key,t.table);n===i&&pt(i);s()},h):h();else{if(f=[],t&&t.length)for(o=0,l=t.length;o<l;o++)f.push(ht(t[o]));i&&f.push(ht(i));b.all(f).then(function(n){angular.forEach(n,function(n){r[n.key]&&delete r[n.key];c(n.key,n.table)});i&&pt(i);s()})}return u.promise},nt.instant=function(n,e,o){var c,h,l,v,a;if(typeof n=="undefined"||n==="")return n;for(n=n.trim(),h=[],u&&h.push(u),i&&h.push(i),t&&t.length&&(h=h.concat(t)),l=0,v=h.length;l<v;l++)if(a=h[l],r[a]&&r[a][n]&&(c=ni(n,e,o)),typeof c!="undefined")break;return c||(c=n,f&&!lt&&s.get(f)(n,i)),c},e&&(angular.equals(r,{})&&nt.use(nt.use()),t&&t.length))for(yt=0,ti=t.length;yt<ti;yt++)et[t[yt]]=ht(t[yt]);return nt}]}]);angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(n){var t={},u,f="default",i=null,r={escaped:function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=angular.element("<div><\/div>").text(n[t]).html());return i}},e=function(n){return angular.isFunction(r[i])?r[i](n):n};return t.setLocale=function(n){u=n},t.getInterpolationIdentifier=function(){return f},t.useSanitizeValueStrategy=function(n){return i=n,this},t.interpolate=function(t,r){return i&&(r=e(r)),n(t)(r)},t}]);angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY");angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(n,t,i,r,u,f){return{restrict:"AE",scope:!0,compile:function(t,e){var o=e.translateValues?e.translateValues:undefined,s=e.translateInterpolation?e.translateInterpolation:undefined,h=t[0].outerHTML.match(/translate-value-+/i);return function(t,c,l){var y,a;if(t.interpolateParams={},l.$observe("translate",function(n){t.translationId=angular.equals(n,"")||!angular.isDefined(n)?i(c.text().replace(/^\s+|\s+$/g,""))(t.$parent):n}),o&&l.$observe("translateValues",function(n){n&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,u(n)(t.$parent))})}),h){y=function(n){l.$observe(n,function(i){t.interpolateParams[angular.lowercase(n.substr(14))]=i})};for(a in l)l.hasOwnProperty(a)&&a.substr(0,14)==="translateValue"&&a!=="translateValues"&&y(a)}var v=function(t,i){c.html(t);var f=n.isPostCompilingEnabled(),u=typeof e.translateCompile!="undefined",o=u&&e.translateCompile!=="false";(f&&!u||o)&&r(c.contents())(i)},p=function(){return o||h?function(){t.$watch("interpolateParams",function(i){t.translationId&&i&&n(t.translationId,i,s).then(function(n){v(n,t)},function(n){v(n,t)})},!0)}:function(){var i=t.$watch("translationId",function(r){t.translationId&&r&&n(r,{},s).then(function(n){v(n,t);i()},function(n){v(n,t);i()})},!0)}}(),w=f.$on("$translateChangeSuccess",p);p();t.$on("$destroy",w)}}}}]);angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(n,t){return{compile:function(i){n.$on("$translateLoadingSuccess",function(){i.removeClass(t.cloakClassName())});i.addClass(t.cloakClassName())}}}]);angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(n,t){return function(i,r,u){return angular.isObject(r)||(r=n(r)()),t.instant(i,r,u)}}]);angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(n,t){return function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var r=n.defer();return t({url:[i.prefix,i.key,i.suffix].join(""),method:"GET",params:""}).success(function(n){r.resolve(n)}).error(function(){r.reject(i.key)}),r.promise}}]);angular.module("pascalprecht.translate").factory("$translateCookieStorage",["$cookieStore",function(n){return{get:function(t){return n.get(t)},set:function(t,i){n.put(t,i)}}}]);angular.module("pascalprecht.translate").factory("$translateLocalStorage",["$window","$translateCookieStorage",function(n,t){var i={get:function(t){return n.localStorage.getItem(t)},set:function(t,i){n.localStorage.setItem(t,i)}};return"localStorage"in n&&n.localStorage!==null?i:t}]);var app=angular.module("ctzCatalog",["ngAnimate","ngSanitize","ngRoute","pascalprecht.translate","ngCookies","monospaced.elastic","mgcrea.ngStrap","ui.bootstrap.accordion","ui.bootstrap.dropdown","ui.bootstrap.tpls","angularFileUpload","ui.sortable"]);app.config(["$routeProvider","$locationProvider","$translateProvider","$tooltipProvider",function(n,t,i,r){n.when("/",{controller:"homeController",templateUrl:"App/views/home.html"}).when("/pickOrders",{controller:"pickOrdersController",templateUrl:"App/views/pickOrders.html",title:"Pick Orders"}).when("/pickOrders/create",{controller:"pickOrderController",templateUrl:"App/views/pickOrder.html",title:"Create PickOrder"}).when("/pickOrders/:id",{controller:"pickOrderController",templateUrl:"App/views/pickOrder.html",title:"Edit PickOrder",isEditMode:!0}).when("/products",{controller:"productsController",templateUrl:"App/views/products.html",title:"Products"}).when("/products/create",{controller:"productController",templateUrl:"App/views/product.html",title:"Create Product"}).when("/products/:id",{controller:"productController",templateUrl:"App/views/product.html",title:"Edit Product",isEditMode:!0}).when("/customers",{controller:"customersController",templateUrl:"App/views/customers.html",title:"Customers"}).when("/customers/create",{controller:"customerController",templateUrl:"App/views/customer.html",title:"Create Customer"}).when("/customers/:id",{controller:"customerController",templateUrl:"App/views/customer.html",title:"Edit Customer",isEditMode:!0}).when("/optionsets",{controller:"optionSetsController",templateUrl:"App/views/optionSets.html",title:"OptionSets"}).when("/optionsets/create",{controller:"optionSetController",templateUrl:"App/views/optionSet.html",title:"Create OptionSet"}).when("/optionsets/:id",{controller:"optionSetController",templateUrl:"App/views/optionSet.html",title:"Edit OptionSet",isEditMode:!0}).when("/attributes",{controller:"attributesController",templateUrl:"App/views/attributes.html",title:"Attributes"}).when("/attributes/create",{controller:"attributeController",templateUrl:"App/views/attribute.html",title:"Create Attribute"}).when("/attributes/:id",{controller:"attributeController",templateUrl:"App/views/attribute.html",title:"Edit Attribute",isEditMode:!0}).when("/attributesets",{controller:"attributeSetsController",templateUrl:"App/views/attributeSets.html",title:"AttributeSets"}).when("/attributesets/create",{controller:"attributeSetController",templateUrl:"App/views/attributeSet.html",title:"Create AttributeSet"}).when("/attributesets/:id",{controller:"attributeSetController",templateUrl:"App/views/attributeSet.html",title:"Edit AttributeSet",isEditMode:!0}).when("/ums",{controller:"umsController",templateUrl:"App/views/ums.html",title:"Customers"}).when("/ums/create",{controller:"umController",templateUrl:"App/views/um.html",title:"Create UM"}).when("/ums/:id",{controller:"umController",templateUrl:"App/views/um.html",title:"Edit UM",isEditMode:!0}).when("/techspecs",{controller:"techSpecsController",templateUrl:"App/views/techSpecs.html",title:"Customers"}).when("/ums/create",{controller:"techSpecController",templateUrl:"App/views/techSpec.html",title:"Create TechSpec"}).when("/techspecs/:id",{controller:"techSpecController",templateUrl:"App/views/techSpec.html",title:"Edit TechSpec",isEditMode:!0}).otherwise({redirectTo:"/"});t.html5Mode(!0);i.preferredLanguage("en").fallbackLanguage("en").useLocalStorage().useStaticFilesLoader({prefix:"Content/translates/",suffix:".json"});angular.extend(r.defaults,{html:!0})}]);app.config(function(n){angular.extend(n.defaults,{})});app.controller("confirmController",["$scope","$modalInstance","data",function(n,t,i){n.data=i;n.ok=function(){t.close()};n.cancel=function(){t.dismiss()}}]);app.controller("homeController",["$scope",function(){}]);app.controller("navbarController",["$scope","$rootScope","$location","$translate",function(n,t,i,r){function u(){t.wrapperClass="inactive";t.contentHeaderClass="fullScreen";n.toggleSidebarBtnClass="outsideBar"}function f(){t.wrapperClass="active";t.contentHeaderClass="partialScreen";n.toggleSidebarBtnClass="insideBar"}n.menu=[{title:"Pick Orders",link:"/pickOrders"},{title:"Products",link:"/products"},{title:"Customers",link:"/customers"},{title:"Attributes",link:"/attributes"},{title:"AttributeSets",link:"/attributesets"},{title:"UMs",link:"/ums"},{title:"TechSpecs",link:"/techspecs"}];n.isActive=function(n){return n===i.path()};var e=function(){return getComputedStyle(document.body,":after").getPropertyValue("content").replace(/"/g,"")=="large"};t.wrapperClass="";t.contentHeaderClass="";t.openSidebarBtnClass="";n.toggleSidebarBtnClass="";n.toggleSidebar=function(){t.wrapperClass==""?e()?u():f():n.toggleSidebarBtnClass=="insideBar"?u():f()};n.changeLanguage=function(n){r.use(n)}}]);app.controller("pickOrdersController",["$scope","$location","pickOrderService","dialogService",function(n,t,i,r){function u(){i.getAll().then(function(t){n.pickOrders=t})}n.pickOrders=[];n.errors={};u();n.delete=function(t){r.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var r in n.pickOrders)if(n.pickOrders[r].id==t.id)break;i.delete(t.id).then(function(){n.pickOrders.splice(r,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){t.path("/pickOrders/create")};n.refresh=function(){u()}}]);app.controller("pickOrderController",["$scope","$window","$route","pickOrderService","customerService","$location","$q",function(n,t,i,r,u,f,e){function h(){c();e.all([o,s]).then(function(){for(var t=0;t<n.customers.length;t++)if(n.customers[t].id==n.pickOrder.customer.id){n.pickOrder.customer=n.customers[t];break}},function(){alert("failure")})}function c(){o=r.getById(i.current.params.id).then(function(t){n.pickOrder=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}function l(){s=u.getAll().then(function(t){n.customers=t})}n.isEditMode=i.current.isEditMode;n.isFocusOnName=n.isEditMode?!1:!0;n.pickOrder={};n.customers=[];var o,s;l();n.isEditMode?(n.pageTitle="Edit product",h()):n.pageTitle="Add new product";n.create=function(t){n.submitted=!0;t.$valid&&r.create(n.pickOrder).then(function(){f.path("/pickOrders")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.update=function(t){n.submitted=!0;t.$valid&&r.update(n.pickOrder).then(function(){f.path("/pickOrders")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.cancel=function(){t.history.back()}}]);app.controller("productsController",["$scope","$location","productService","dialogService","$modal","$aside","helper",function(n,t,i,r,u,f,e){function o(){i.getAll().then(function(t){n.products=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.products=[];n.errors={};o();n.delete=function(t){r.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var r in n.products)if(n.products[r].id==t.id)break;i.delete(t.id).then(function(){n.products.splice(r,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){t.path("/products/create")};n.refresh=function(){o()};var s=u({scope:n,template:"/App/templates/showImage.tpl.html",show:!1});n.showModal=function(t){n.selectedProduct=t;n.selectedImgIndex=0;s.$promise.then(s.show)};n.displaySelectedImage=function(t){n.selectedImgIndex=t};n.getPrimaryThumbImageUrl=function(n){return e.getPrimaryThumbImageUrl(n)};n.getThumbImageUrl=function(n){return e.getThumbImageUrl(n)};n.getLargeImageUrl=function(n){return e.getLargeImageUrl(n)}}]);app.controller("productController",["$scope","$window","$route","productService","attributeSetService","optionSetService","$location","$q","$upload","dialogService","$modal","$aside","helper",function(n,t,r,u,f,e,o,s,h,c,l,a,v){function g(){nt();s.all([b,k]).then(function(){n.dotObject.selectedAttributeSet=v.getItemInArray(n.attributeSets,"id",n.product.attributeSetId);n.dotObject.attributes=n.product.attributes;rt()},function(){alert("failure")})}function nt(){b=u.getById(r.current.params.id).then(function(t){n.product=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}function tt(){k=f.getAll().then(function(t){n.attributeSets=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}function it(){n.dotObject.selectedAttributeSet.attributes.forEach(function(n){n.type=="MultipleOptions"?n.values=n.defaultValues:n.value=n.defaultValue})}function rt(){n.dotObject.selectedAttributeSet.attributes.forEach(function(t){var i=v.getItemInArray(n.product.attributes,"id",t.id);i&&(t.type=="MultipleOptions"?t.values=i.values:t.value=i.value)})}function ut(){d=u.getAllAsRelated().then(function(t){n.availableRelatedProducts=ft(t)}).catch(function(n){alert(JSON.stringify(n,null,4))})}function ft(t){var i=[],r=n.product.relatedProducts;return r&&r.length!=0?t.forEach(function(t){v.getIndexInArray(n.product.relatedProducts,"id",t.id)==-1&&i.push(t)}):i=t,n.isEditMode&&v.deleteItemInArray(i,"id",n.product.id),i}var b,k,d,y,p,w;n.isEditMode=r.current.isEditMode;n.isFocusOnName=n.isEditMode?!1:!0;n.product={um:"Buc"};n.attributeSets=[];n.dotObject={};n.dotObject.attributes={};n.dotObject.optionSets={};n.availableRelatedProducts=[];tt();n.isEditMode?(n.pageTitle="Edit product",g()):n.pageTitle="Add new product";n.create=function(t){n.submitted=!0;t.$valid&&(n.product.attributeSetId=n.dotObject.selectedAttributeSet.id,n.product.attributeSetName=n.dotObject.selectedAttributeSet.name,n.product.attributes=[],n.dotObject.selectedAttributeSet.attributes.forEach(function(t){if(t.value||t.values){var i={};i.id=t.id;i.name=t.name;t.value?i.value=t.value:i.values=t.values;n.product.attributes.push(i)}}),u.create(n.product).then(function(){o.path("/products")}).catch(function(n){alert(JSON.stringify(n.data,null,4))}))};n.update=function(t){n.submitted=!0;t.$valid&&(n.product.attributeSetId=n.dotObject.selectedAttributeSet.id,n.product.attributeSetName=n.dotObject.selectedAttributeSet.name,n.product.attributes=[],n.dotObject.selectedAttributeSet.attributes.forEach(function(t){if(t.value||t.values){var i={};i.id=t.id;i.name=t.name;t.value?i.value=t.value:i.values=t.values;n.product.attributes.push(i)}}),u.update(n.product).then(function(){o.path("/products")}).catch(function(n){alert(JSON.stringify(n.data,null,4))}))};n.cancel=function(){t.history.back()};n.changeAttributeSet=function(){n.dotObject.optionSets={};n.dotObject.attributes={};it()};y=function(t){var r=n.product.images,u=r.length;for(i=0;i<u;i++)if(r[i].name==t){r.splice(i,1);break}};n.deleteImage=function(t){c.confirm("Are you sure you want to delete this image?").then(function(){n.isEditMode?u.deleteImageForProduct(t.name,n.product.id).then(y(t.name)).catch(function(n){alert(JSON.stringify(n.data,null,4))}):u.DeleteImageFiles(t.name).then(y(t.name)).catch(function(n){alert(JSON.stringify(n.data,null,4))})})};n.onFileSelect=function(t){for(var u,r,i=0;i<t.length;i++)u=t[i],r={url:"api/products/images",file:u},n.isEditMode&&(r.data={productId:n.product.id}),n.upload=h.upload(r).progress(function(){}).success(function(t){n.product.images||(n.product.images=[]);n.product.images.push(t)})};n.itemUp=function(t){var i=n.product.images,r=t-1,f,e=i.length,u;if(t>0)f=i[r],i[r]=i[t],i[t]=f;else{for(r=e-1,f=i[t],u=1;u<=e;u++)i[u-1]=i[u];i[r]=f}n.selectedIndex=r};n.itemDown=function(t){var i=n.product.images,r=t+1,f,e=i.length,u;if(t<e-1)f=i[r],i[r]=i[t],i[t]=f;else{for(r=0,f=i[t],u=e-1;u>0;u--)i[u]=i[u-1];i[r]=f}n.selectedIndex=r};p=l({scope:n,template:"/App/templates/showImage.tpl.html",show:!1});n.showModal=function(t){n.selectedProduct=t;n.selectedImgIndex=0;p.$promise.then(p.show)};n.displaySelectedImage=function(t){n.selectedImgIndex=t};w=a({scope:n,template:"/App/templates/selectRelatedProducts.tpl.html",show:!1,placement:"right",animation:"am-slide-right",title:"Select Products"});n.showRelatedProductsAside=function(){ut();s.when(d).then(function(){w.$promise.then(w.show)})};n.selectRelatedProduct=function(t){n.product.relatedProducts||(n.product.relatedProducts=[]);n.product.relatedProducts.push(t);v.deleteItemInArray(n.availableRelatedProducts,"id",t.id)};n.deleteRelatedProduct=function(t){v.deleteItemInArray(n.product.relatedProducts,"id",t.id);n.availableRelatedProducts.push(t)};n.getPrimaryThumbImageUrl=function(n){return v.getPrimaryThumbImageUrl(n)};n.getThumbImageUrl=function(n){return v.getThumbImageUrl(n)};n.getLargeImageUrl=function(n){return v.getLargeImageUrl(n)}}]);app.controller("customersController",["$scope","$location","customerService","dialogService","$modal",function(n,t,i,r){function u(){i.getAll().then(function(t){n.customers=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.customers=[];n.errors={};u();n.delete=function(t){r.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var r in n.customers)if(n.customers[r].id==t.id)break;i.delete(t.id).then(function(){n.customers.splice(r,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){t.path("/customers/create")};n.refresh=function(){u()}}]);app.controller("customerController",["$scope","$window","$route","customerService","$location",function(n,t,i,r,u){function f(){e()}function e(){r.getById(i.current.params.id).then(function(t){n.customer=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.isEditMode=i.current.isEditMode;n.isFocusOnName=n.isEditMode?!1:!0;n.customer={};n.isEditMode&&f();n.create=function(t){n.submitted=!0;t.$valid&&r.create(n.customer).then(function(){u.path("/customers")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.update=function(t){n.submitted=!0;t.$valid&&r.update(n.customer).then(function(){u.path("/customers")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.cancel=function(){t.history.back()}}]);app.controller("optionSetsController",["$scope","$rootScope","$route","$location","optionSetService","dialogService",function(n,t,i,r,u,f){function e(){u.getAll().then(function(t){n.optionSets=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.optionSets=[];n.errors={};e();n.delete=function(t){f.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var i in n.optionSets)if(n.optionSets[i].optionSetId==t.optionSetId)break;u.delete(t.optionSetId).then(function(){n.optionSets.splice(i,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){r.path("/optionsets/create")};n.refresh=function(){e()};var o=t.$on("$translateChangeSuccess",function(){e()});n.$on("$destroy",function(){o()})}]);app.controller("optionSetController",["$scope","$window","$route","optionSetService","$location",function(n,t,r,u,f){function e(){o()}function o(){u.getById(r.current.params.id).then(function(t){n.optionSet=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.isEditMode=r.current.isEditMode;n.isFocusOnOptions=!1;n.isFocusOnName=n.isEditMode?!1:!0;n.optionSet={};n.dotObject={};n.optionBtnAreVisible=!1;n.isEditMode?(n.pageTitle="Edit optionSet",e()):n.pageTitle="Add new optionSet";n.create=function(t){n.submitted=!0;t.$valid&&(n.optionSet.options&&n.optionSet.options.forEach(function(n){n.description==""&&delete n.description}),u.create(n.optionSet).then(function(){f.path("/optionsets")}).catch(function(n){alert(JSON.stringify(n.data,null,4))}))};n.update=function(t){n.submitted=!0;t.$valid&&(n.optionSet.options.forEach(function(n){n.description==""&&delete n.description}),u.update(n.optionSet).then(function(){f.path("/optionsets")}).catch(function(n){alert(JSON.stringify(n.data,null,4))}))};n.cancel=function(){t.history.back()};n.addOptionOnEnter=function(t){t.which==13&&(t.preventDefault(),t.stopPropagation(),n.addOption())};n.addOption=function(){if(n.newOptionValue)n.optionSet.options||(n.optionSet.options=[]),n.optionSet.options.push({name:n.newOptionValue});else{alert("Enter a value and then press the button!");return}n.newOptionValue=undefined;n.isFocusOnOptions=!0};n.removeOption=function(t,i,r){r&&(r.preventDefault(),r.stopPropagation());n.optionSet.options.splice(t,1)};n.optionUp=function(t,i,r){var f;r&&(r.preventDefault(),r.stopPropagation());var e=t-1,o,u=n.optionSet.options,s=u.length;if(t>0)o=u[e],u[e]=u[t],u[t]=o;else{for(e=s-1,o=u[t],f=1;f<=s;f++)u[f-1]=u[f];u[e]=o}};n.optionDown=function(t,i,r){var f;r&&(r.preventDefault(),r.stopPropagation());var e=t+1,o,u=n.optionSet.options,s=u.length;if(t<s-1)o=u[e],u[e]=u[t],u[t]=o;else{for(e=0,o=u[t],f=s-1;f>0;f--)u[f]=u[f-1];u[e]=o}}}]);app.controller("attributesController",["$scope","$rootScope","$route","$location","attributeService","dialogService",function(n,t,i,r,u,f){function e(){u.getAll().then(function(t){n.attributes=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.attributes=[];n.errors={};e();n.delete=function(t){f.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var i in n.attributes)if(n.attributes[i].id==t.id)break;u.delete(t.id).then(function(){n.attributes.splice(i,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){r.path("/attributes/create")};n.refresh=function(){e()};var o=t.$on("$translateChangeSuccess",function(){e()});n.$on("$destroy",function(){o()})}]);app.controller("attributeController",["$scope","$window","$route","attributeService","$location",function(n,t,i,r,u){function f(){e()}function e(){r.getById(i.current.params.id).then(function(t){n.attribute=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.dotObject={};n.isEditMode=i.current.isEditMode;n.isFocusOnName=n.isEditMode?!1:!0;n.attribute={};n.isEditMode?(n.pageTitle="Edit attribute",f()):n.pageTitle="Add new attribute";n.create=function(t){n.submitted=!0;t.$valid&&r.create(n.attribute).then(function(){u.path("/attributes")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.update=function(t){n.submitted=!0;t.$valid&&(n.attribute.type=="SingleOption"&&n.attribute.options.indexOf(n.attribute.defaultValue)==-1&&(n.attribute.defaultValue=null),n.attribute.type=="MultipleOptions"&&n.attribute.defaultValues.forEach(function(t){if(n.attribute.options.indexOf(t)==-1){var i=n.attribute.defaultValues.indexOf(t);i!==-1&&n.attribute.defaultValues.splice(i,1)}}),r.update(n.attribute).then(function(){u.path("/attributes")}).catch(function(n){alert(JSON.stringify(n.data,null,4))}))};n.cancel=function(){t.history.back()};n.changeType=function(){n.attribute.defaultValue=""}}]);app.controller("attributeSetsController",["$scope","$rootScope","$route","$location","attributeSetService","dialogService",function(n,t,i,r,u,f){function e(){u.getAll().then(function(t){n.attributeSets=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.attributeSets=[];n.errors={};e();n.delete=function(t){f.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var i in n.attributeSets)if(n.attributeSets[i].id==t.id)break;u.delete(t.id).then(function(){n.attributeSets.splice(i,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){r.path("/attributesets/create")};n.refresh=function(){e()};var o=t.$on("$translateChangeSuccess",function(){e()});n.$on("$destroy",function(){o()})}]);app.controller("attributeSetController",["$scope","$window","$route","attributeService","attributeSetService","$location","$q",function(n,t,i,r,u,f,e){function c(){l();e.all([o,s]).then(function(){n.attributeSet.attributes.forEach(function(t){var i=h(n.attributes,t.id,"id");i!=-1&&n.attributes.splice(i,1)})},function(){alert("failure")})}function l(){o=u.getById(i.current.params.id).then(function(t){n.attributeSet=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}function a(){s=r.getAll().then(function(t){n.attributes=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}function h(n,t,i){for(var r=0,u=n.length;r<u;r++)if(n[r][i]===t)return r;return-1}n.isEditMode=i.current.isEditMode;n.isFocusOnName=n.isEditMode?!1:!0;n.attributeSet={};n.attributes=[];var o,s;n.dotObject={};n.attributeBtnAreVisible=!1;a();n.isEditMode?(n.pageTitle="Edit attributeSet",c()):(n.pageTitle="Add new attributeSet",n.attributeSet.attributes=[]);n.create=function(t){n.submitted=!0;t.$valid&&u.create(n.attributeSet).then(function(){f.path("/attributesets")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.update=function(t){n.submitted=!0;t.$valid&&u.update(n.attributeSet).then(function(){f.path("/attributesets")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.cancel=function(){t.history.back()};n.addAttribute=function(){if(n.dotObject.selectedAttribute)n.attributeSet.attributes.push(n.dotObject.selectedAttribute);else{alert("Select from the list and then press the button!");return}var t=h(n.attributes,n.dotObject.selectedAttribute.attributeId,"attributeId");t!=-1&&n.attributes.splice(t,1);n.dotObject.selectedAttribute=undefined};n.removeAttribute=function(t,i,r){r&&(r.preventDefault(),r.stopPropagation());n.attributeSet.attributes.splice(t,1);n.attributes.push(i)};n.attributeUp=function(t,i,r){var u,e,o,f;if(r&&(r.preventDefault(),r.stopPropagation()),u=t-1,o=n.attributeSet.attributes.length,t>0)e=n.attributeSet.attributes[u],n.attributeSet.attributes[u]=n.attributeSet.attributes[t],n.attributeSet.attributes[t]=e;else{for(u=o-1,e=n.attributeSet.attributes[t],f=1;f<=o;f++)n.attributeSet.attributes[f-1]=n.attributeSet.attributes[f];n.attributeSet.attributes[u]=e}};n.attributeDown=function(t,i,r){var u,e,o,f;if(r&&(r.preventDefault(),r.stopPropagation()),u=t+1,o=n.attributeSet.attributes.length,t<o-1)e=n.attributeSet.attributes[u],n.attributeSet.attributes[u]=n.attributeSet.attributes[t],n.attributeSet.attributes[t]=e;else{for(u=0,e=n.attributeSet.attributes[t],f=o-1;f>0;f--)n.attributeSet.attributes[f]=n.attributeSet.attributes[f-1];n.attributeSet.attributes[u]=e}}}]);app.controller("umsController",["$scope","$location","umService","dialogService","$modal",function(n,t,i,r){function u(){i.getAll().then(function(t){n.ums=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.ums=[];n.errors={};u();n.delete=function(t){r.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var r in n.ums)if(n.ums[r].id==t.id)break;i.delete(t.id).then(function(){n.ums.splice(r,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){t.path("/ums/create")};n.refresh=function(){u()}}]);app.controller("techSpecsController",["$scope","$rootScope","$route","$location","techSpecService","dialogService",function(n,t,i,r,u,f){function e(){u.getAll().then(function(t){n.techSpecs=t}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.techSpecs=[];n.errors={};e();n.delete=function(t){f.confirm("Are you sure you want to delete this item?",t.name).then(function(){for(var i in n.techSpecs)if(n.techSpecs[i].id==t.id)break;u.delete(t.id).then(function(){n.techSpecs.splice(i,1)}).catch(function(t){n.errors=JSON.stringify(t.data,null,4);alert(n.errors)})})};n.create=function(){r.path("/techSpecs/create")};n.refresh=function(){e()};var o=t.$on("$translateChangeSuccess",function(){e()});n.$on("$destroy",function(){o()})}]);app.controller("techSpecController",["$scope","$window","$route","techSpecService","$location",function(n,t,r,u,f){function e(){o()}function o(){u.getById(r.current.params.id).then(function(t){n.techSpec=t;n.dotObject.expandedSectionName=n.techSpec.sections[0].name}).catch(function(n){alert(JSON.stringify(n,null,4))})}n.isEditMode=r.current.isEditMode;n.isFocusOnOptions=!1;n.isFocusOnName=n.isEditMode?!1:!0;n.techSpec={};n.dotObject={};n.dotObject.isRenameMode={};n.selectedSpecItem={};n.newSpecItem={};n.selectedSection={};n.optionBtnAreVisible=!1;n.initAddSpecItemMode=function(){n.dotObject.isVisibleAddNewItem=!0;n.selectedIndex=-1;n.newSpecItem.name="";n.dotObject.isFocusOnAddItem=!0;n.isItemInEditMode=!1};n.initAddSectionMode=function(){n.dotObject.isVisibleAddNewSection=!0;n.newSectionName="";n.dotObject.isFocusOnAddSection=!0;n.isSectionInEditMode=!1};n.initRenameSpecItemMode=function(t){n.selectedSpecItem.name=t.name;n.dotObject.specItemName=t.name;n.dotObject.isFocusOnRenameItem=!0};n.isEditMode?(n.pageTitle="Edit techSpec",e()):n.pageTitle="Add new techSpec";n.addSpecItemOnEnter=function(t,i,r){r.which==13&&(r.preventDefault(),r.stopPropagation(),n.addSpecItem(t,i))};n.addSpecItem=function(t,i){var r=t.specItems;if(i.name==""){alert("Enter a value and then press the button!");n.dotObject.isFocusOnAddItem=!0;return}if(_.findIndex(r,{name:i.name})!=-1){alert("This value already exists: "+i.name);n.dotObject.isFocusOnAddItem=!0;return}r.push({name:i.name});n.dotObject.isVisibleAddNewItem=!1};n.addSection=function(t){var i=n.techSpec.sections;if(t==""){alert("Enter a value and then press the button!");n.dotObject.isFocusOnAddSection=!0;return}if(_.findIndex(i,{name:t})!=-1){alert("This value already exists: "+t);n.dotObject.isFocusOnAddSection=!0;return}i.push({name:t,specItems:[{options:[],defaultOptions:[]}]});n.dotObject.isVisibleAddNewSection=!1};n.renameSpecItem=function(t){t.name=n.dotObject.specItemName;n.dotObject.renamedItamName=null};n.create=function(t){n.submitted=!0;t.$valid&&u.create(n.techSpec).then(function(){f.path("/techspecs")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.update=function(t){n.submitted=!0;t.$valid&&u.update(n.techSpec).then(function(){f.path("/techspecs")}).catch(function(n){alert(JSON.stringify(n.data,null,4))})};n.cancel=function(){t.history.back()};n.addOptionOnEnter=function(t){t.which==13&&(t.preventDefault(),t.stopPropagation(),n.addOption())};n.addOption=function(){if(n.newOptionValue)n.techSpec.options||(n.techSpec.options=[]),n.techSpec.options.push({name:n.newOptionValue});else{alert("Enter a value and then press the button!");return}n.newOptionValue=undefined;n.isFocusOnOptions=!0};n.removeSection=function(t){_.remove(n.techSpec.sections,function(n){return n.name==t.name})};n.removeSpecItem=function(n,t){_.remove(n.specItems,function(n){return n.name==t.name})};n.removeSpecItemOption=function(n,t){_.remove(n.options,function(n){return n.value==t.value})};n.optionUp=function(t,i,r){var f;r&&(r.preventDefault(),r.stopPropagation());var e=t-1,o,u=n.techSpec.options,s=u.length;if(t>0)o=u[e],u[e]=u[t],u[t]=o;else{for(e=s-1,o=u[t],f=1;f<=s;f++)u[f-1]=u[f];u[e]=o}};n.optionDown=function(t,i,r){var f;r&&(r.preventDefault(),r.stopPropagation());var e=t+1,o,u=n.techSpec.options,s=u.length;if(t<s-1)o=u[e],u[e]=u[t],u[t]=o;else{for(e=0,o=u[t],f=s-1;f>0;f--)u[f]=u[f-1];u[e]=o}};n.sortableOptions1={accept:function(n,t){return n.itemScope.sortableScope.$id===t.$id},itemMoved:function(){},orderChanged:function(){},dragStart:function(){}};n.sortableOptions={accept:function(n,t){return n.itemScope.sortableScope.$id===t.$id},itemMoved:function(){},orderChanged:function(){},dragStart:function(){n.dotObject.expandedItemName=null},containment:"#board"};n.toogleCollapse=function(t){n.dotObject.expandedItemName=n.dotObject.expandedItemName==t?null:t};n.toogleSection=function(t){n.dotObject.expandedSectionName=n.dotObject.expandedSectionName==t?null:t};n.status={isopen:!1};n.toggled=function(){n.dotObject.expandedItemName=null};n.toggleDropdown=function(t){t.preventDefault();t.stopPropagation();n.status.isopen=!n.status.isopen}}]);app.directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function u(){r.$setViewValue(t.html())}r.$render=function(){t.html(r.$viewValue||"")};t.bind("blur keyup change",function(){n.$apply(u)})}}});app.directive("splitArray",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function u(n){return n.split("\n")}function f(n){return n==undefined?null:n.join("\n")}r.$parsers.push(u);r.$formatters.push(f)}}});app.factory("productService",["$http",function(n){var t={},i="/api/products/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t.DeleteImageFiles=function(t){return n.delete(i+"images/"+t+"/")},t.deleteImageForProduct=function(t,r){return n.delete(i+encodeURIComponent(r)+"/images/"+encodeURIComponent(t)+"/")},t.getAllAsRelated=function(){return n.get("/api/productsasrelated/").then(function(n){return n.data})},t}]);app.factory("pickOrderService",["$http",function(n){var t={},i="/api/pickOrders/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t}]);app.factory("customerService",["$http",function(n){var t={},i="/api/customers/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t}]);app.factory("optionSetService",["$http","$translate",function(n,t){var i={},r="/api/optionSets/";return i.create=function(t){return n.post(r,t)},i.getAll=function(){return n.get(r+"?lang="+t.use()).then(function(n){return n.data})},i.getById=function(t){return n.get(r+encodeURIComponent(t)).then(function(n){return n.data})},i.update=function(t){return n.put(r,t)},i.delete=function(t){return n.delete(r+encodeURIComponent(t))},i}]);app.factory("attributeService",["$http","$translate",function(n){var t={},i="/api/attributes/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t}]);app.factory("attributeSetService",["$http","$translate",function(n){var t={},i="/api/attributeSets/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t}]);app.service("dialogService",function(n,t,i){function r(n,r,u){var e=i.defer(),f=t.$new(!0);return f.ok=function(n){e.resolve(n);this.$hide()},f.cancel=function(){e.reject();this.$hide()},f.title=n,f.message=r||"",f.details=u||"",f.promise=e.promise,f}function u(t,i,u,f,e){var o=r(u||"Confirm",t||"Are you sure?",i);return o.yes=f||"Yes",o.no=e||"No",n({template:"App/views/dialog.confirm.html",scope:o,show:!0}),o.promise}function f(t,i,u,f){var e=r(u||"Alert",t,i);return e.close=f||"Close",n({template:"App/views/dialog.alert.html",scope:e,show:!0}),e.promise}return{confirm:u,alert:f}});app.factory("helper",[function(){function t(n,t,i){for(var u=n.length,r=0,f=u;r<f;r++)if(n[r][t]===i)return r;return-1}var n={};return n.getPrimaryThumbImageUrl=function(n){var t;if(!n||n.length==0||(t=n[0],!t.sizes||t.sizes.length==0))return"http://appstudio.blob.core.windows.net/share/no-image-available-q.png";var i=t.name.substring(0,t.name.indexOf(".")),r=t.name.substring(t.name.indexOf(".")),u=t.sizes[0];return t.rootUrl+"/"+i+"-"+u+r},n.getThumbImageUrl=function(n){if(!n||!n.sizes||n.sizes.length==0)return"http://appstudio.blob.core.windows.net/share/no-image-available-q.png";var t=n.name.substring(0,n.name.indexOf(".")),i=n.name.substring(n.name.indexOf(".")),r=n.sizes[0];return n.rootUrl+"/"+t+"-"+r+i},n.getLargeImageUrl=function(n){if(!n||!n.sizes||n.sizes.length==0)return"http://appstudio.blob.core.windows.net/share/no-image-available-q.png";var t=n.name.substring(0,n.name.indexOf(".")),i=n.name.substring(n.name.indexOf(".")),r=n.sizes.length>1?n.sizes[1]:n.sizes[0];return n.rootUrl+"/"+t+"-"+r+i},n.getIndexInArray=function(n,i,r){return t(n,i,r)},n.deleteItemInArray=function(n,i,r){var u=t(n,i,r);u!=-1?n.splice(u,1):alert("Can't delete! Key or value not found")},n.getItemInArray=function(n,i,r){var u=undefined,f=t(n,i,r);return f!=-1&&(u=n[f]),u},n}]);app.factory("umService",["$http",function(n){var t={},i="/api/ums/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t}]);app.factory("techSpecService",["$http","$translate",function(n){var t={},i="/api/techSpecs/";return t.create=function(t){return n.post(i,t)},t.getAll=function(){return n.get(i).then(function(n){return n.data})},t.getById=function(t){return n.get(i+encodeURIComponent(t)).then(function(n){return n.data})},t.update=function(t){return n.put(i,t)},t.delete=function(t){return n.delete(i+encodeURIComponent(t))},t}]);app.directive("myFocus",["$timeout",function(n){return{restrict:"A",link:function(t,i,r){r.myFocus=="true"||r.myFocus==""?n(function(){i[0].focus()},0):(t.$watch(r.myFocus,function(t){n(function(){t&&i[0].focus()},0)}),i.bind("blur",function(){n(function(){t.$apply(r.myFocus+"=false")},0)}),i.bind("focus",function(){n(function(){t.$apply(r.myFocus+"=true")},0)}))}}}]);app.directive("inPlaceEditText",[function(){return{restrict:"A",scope:{value:"="},template:'<span class="inplaceedit-child0 active" ng-click="edit()">{{value}}<span class="inplaceedit-icon">&#x270f;<\/span><\/span><input class="inplaceedit-child1" ng-model="value"><\/input>',link:function(n,t){var r=angular.element(t.children()[0]),i=angular.element(t.children()[1]);n.edit=function(){r.removeClass("active");i.addClass("active");i[0].focus()};i.bind("blur",function(){r.addClass("active");i.removeClass("active");i.val()==""&&(n.value="New widget")});t.bind("keydown keypress",function(n){n.keyCode===13;n.keyCode==27})}}}]);app.directive("editSimpleList",[function(){return{restrict:"E",scope:{items:"="},templateUrl:"/App/templates/editSimpleList.tpl.html",controller:["$scope",function(n){n.dotObject={};n.dotObject.modifiedItem="";n.dotObject.isFocusOnEditItem=!1;n.items=n.items||[];n.isVisibleAddNewItem=!1;n.isFocusOnAddItem=!1;n.selectedIndex=-1;n.isItemInEditMode=!1;n.addItem=function(){var i=n.items,t=n.newItemValue;if(i.indexOf(t)!=-1){alert("This value already exists: "+t);n.isFocusOnAddItem=!0;return}if(t)i.push(t);else{alert("Enter a value and then press the button!");return}n.newItemValue=undefined;n.isFocusOnAddItem=!0};n.toggleSelection=function(t){n.isVisibleAddNewItem=!1;n.selectedIndex=n.selectedIndex==t?-1:t};n.addItemOnEnter=function(t){t.which==13&&(t.preventDefault(),t.stopPropagation(),n.addItem())};n.updateItemOnEnter=function(t,i,r){r.which==13&&(r.preventDefault(),r.stopPropagation(),n.updateItem(t,i,r))};n.editItem=function(t,i){n.isItemInEditMode=!0;n.dotObject.modifiedItem=i;n.dotObject.isFocusOnEditItem=!0};n.cancelItem=function(){n.isItemInEditMode=!1;n.dotObject.modifiedItem=""};n.updateItem=function(t){var i=n.dotObject.modifiedItem;if(n.items.indexOf(i)!=-1){alert("This value already exists: "+i);n.dotObject.isFocusOnEditItem=!0;return}n.items[t]=i;n.isItemInEditMode=!1;n.dotObject.modifiedItem=""};n.removeItem=function(t){n.items.splice(t,1);n.selectedIndex=n.items.length>0&&t<n.items.length?t:-1};n.itemUp=function(){var t=n.items,i=n.selectedIndex,r=i-1,f,e=t.length,u;if(i>0)f=t[r],t[r]=t[i],t[i]=f;else{for(r=e-1,f=t[i],u=1;u<=e;u++)t[u-1]=t[u];t[r]=f}n.selectedIndex=r};n.itemDown=function(){var t=n.items,i=n.selectedIndex,r=i+1,f,e=t.length,u;if(i<e-1)f=t[r],t[r]=t[i],t[i]=f;else{for(r=0,f=t[i],u=e-1;u>0;u--)t[u]=t[u-1];t[r]=f}n.selectedIndex=r}}]}}]);app.directive("selectFromSimpleList",[function(){return{restrict:"E",scope:{itemsIn:"=",itemsOut:"="},templateUrl:"/App/templates/selectFromSimpleList.tpl.html",controller:["$scope",function(n){function t(n,t,i){var u=0,f,r;if(newValue=null,t.length!=i.length)return null;for(f=t.length,r=0;r<f;r++)if(t[r]!=i[r]&&(newValue=i[r],u+=1,u==2))return null;return newValue}n.dotObject={};n.dotObject.selectedDefaultItem="";n.itemsIn=n.itemsIn||[];n.itemsOut=n.itemsOut||[];n.$watchCollection("itemsIn",function(i,r){n.itemsOut.forEach(function(u,f){if(n.itemsIn.indexOf(u)==-1){var e=t(u,r,i);e?n.itemsOut[f]=e:n.itemsOut.splice(f,1)}});n.itemsDif=[];n.itemsIn.forEach(function(t){n.itemsOut.indexOf(t)==-1&&n.itemsDif.push(t)})});n.addDefaultItem=function(){var t=n.dotObject.selectedDefaultItem,i=n.itemsDif.indexOf(t);n.itemsDif.splice(i,1);n.itemsOut.push(t)};n.selectedIndex=-1;n.toggleSelection=function(t){n.isVisibleAddNewItem=!1;n.selectedIndex=n.selectedIndex==t?-1:t};n.removeItem=function(t,i){n.itemsOut.splice(t,1);n.itemsDif.push(i);n.selectedIndex=n.itemsOut.length>0&&t<n.itemsOut.length?t:-1}}]}}]);
//# sourceMappingURL=bundle-app.min.js.map
